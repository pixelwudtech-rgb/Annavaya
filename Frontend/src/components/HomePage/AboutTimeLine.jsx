"use client";

import { useEffect, useRef, useState } from "react";
import gsap from "gsap";
import { ScrollTrigger } from "gsap/ScrollTrigger";
import { MotionPathPlugin } from "gsap/MotionPathPlugin";

gsap.registerPlugin(ScrollTrigger, MotionPathPlugin);

/* =========================
   DATA
========================= */
const STEPS = [
  {
    x: 1300,
   
    y: 220,
    value: 425,
    suffix: "+",
    title: "Fresh Keerai Bundles Delivered",
    text: "Every day, freshly harvested keerai is carefully selected from trusted farms. We focus on natural freshness, gentle handling, and timely delivery so quality is preserved from field to home.",
  },
  {
    x: 300,
    y: 560,
    value: 7663,
    suffix: "+",
    title: "Meals Made Healthier",
    text: "Our keerai supports everyday home cooking with essential nutrients. Families rely on it for balanced meals that nourish, energize, and support long-term well-being.",
  },
  {
    x: 900,
    y: 1400,
    value: 240,
    suffix: "+",
    title: "Trusted Farming Partners",
    text: "We work closely with farmers who follow responsible growing practices. Long-term partnerships ensure consistency, fair sourcing, and respect for the land.",
  },
  {
    x: 760,
    y: 1880,
    value: 5,
    suffix: "",
    title: "Multi-Stage Quality Checks",
    text: "Each batch is reviewed through multiple stages of inspection. Cleanliness, freshness, and handling standards are verified before the produce moves forward.",
  },
  // {
  //   x: 860,
  //   y: 2380,
  //   value: null,
  //   suffix: "",
  //   title: "Our Promise of Purity",
  //   text: "We stand by one clear promise: clean, honest, and uncompromised keerai. No shortcuts, no unnecessary processing, only what your family needs.",
  // },
  // {
  //   x: 700,
  //   y: 3140,
  //   value: null,
  //   suffix: "",
  //   title: "Freshness You Can Rely On",
  //   text: "From harvest to delivery, freshness is carefully protected. Gentle handling and quick movement ensure your keerai reaches the kitchen in its best condition.",
  // },
  // {
  //   x: 1100,
  //   y: 3840,
  //   value: null,
  //   suffix: "",
  //   title: "Thank You for Your Trust",
  //   text: "Your support helps strengthen farming communities and promotes healthier food choices. Together, we continue building a more responsible food system.",
  // },
];


const MOBILE_STEPS = [
  {
    x: 150,
    y: 40,
    value: 425,
    suffix: "+",
    title: "Fresh Keerai Bundles Delivered",
    text: "Every day, freshly harvested keerai is carefully selected from trusted farms. We focus on natural freshness, gentle handling, and timely delivery so quality is preserved from field to home.",
  },
  {
    x: 0,
    y: 20,
    value: 766,
    suffix: "+",
    title: "Meals Made Healthier",
    text: "Our keerai supports everyday home cooking with essential nutrients. Families rely on it for balanced meals that nourish, energize, and support long-term well-being.",
  },
  {
    x: 170,
    y: 340,
    value: 240,
    suffix: "+",
    title: "Trusted Farming Partners",
    text: "We work closely with farmers who follow responsible growing practices. Long-term partnerships ensure consistency, fair sourcing, and respect for the land.",
  },
  {
    x: 10,
    y: 510,
    value: 5,
    suffix: "",
    title: "Multi-Stage Quality Checks",
    text: "Each batch is reviewed through multiple stages of inspection. Cleanliness, freshness, and handling standards are verified before the produce moves forward.",
  },
  // {
  //   x: 170,
  //   y: 1700,
  //   value: null,
  //   suffix: "",
  //   title: "Our Promise of Purity",
  //   text: "We stand by one clear promise: clean, honest, and uncompromised keerai. No shortcuts, no unnecessary processing, only what your family needs.",
  // },
  // {
  //   x: 170,
  //   y: 680,
  //   value: null,
  //   suffix: "",
  //   title: "Freshness You Can Rely On",
  //   text: "From harvest to delivery, freshness is carefully protected. Gentle handling and quick movement ensure your keerai reaches the kitchen in its best condition.",
  // },
  // {
  //   x: 10,
  //   y: 900,
  //   value: null,
  //   suffix: "",
  //   title: "Thank You for Your Trust",
  //   text: "Your support helps strengthen farming communities and promotes healthier food choices. Together, we continue building a more responsible food system.",
  // },
];


export default function PremiumProcessTimeline() {
  const sectionRef = useRef(null);
  const pathRef = useRef(null);
  const dotRef = useRef(null);
  const svgWrapRef = useRef(null);


  const [activeIndex, setActiveIndex] = useState(0);
  const [isMobile, setIsMobile] = useState(false);

  /* =========================
     MOBILE DETECTION
  ========================= */
  /* =========================
   MOBILE DETECTION (REQUIRED)
========================= */
useEffect(() => {
  const checkMobile = () => {
    setIsMobile(window.innerWidth < 768);
  };

  checkMobile();
  window.addEventListener("resize", checkMobile);

  return () => window.removeEventListener("resize", checkMobile);
}, []);

 useEffect(() => {
  if (isMobile) return;

  const path = pathRef.current;
  const dot = dotRef.current;

  if (!path || !dot) return;

  // 1️⃣ GET PATH LENGTH
  const length = path.getTotalLength();

  // 2️⃣ HIDE PATH INITIALLY
  gsap.set(path, {
    strokeDasharray: length,
    strokeDashoffset: length,
  });

  // 3️⃣ PLACE DOT AT START
  gsap.set(dot, {
    motionPath: {
      path,
      align: path,
      alignOrigin: [0.5, 0.5],
      start: 0,
      end: 0,
    },
  });

  // 4️⃣ CREATE TIMELINE (single source of truth)
  const tl = gsap.timeline({
    scrollTrigger: {
      trigger: svgWrapRef.current,
start: "top center",

      end: "+=2300",
      scrub: true,
    },
  });

  // 5️⃣ REVEAL LINE
  tl.to(
    path,
    {
      strokeDashoffset: 0,
      ease: "none",
    },
    0
  );

  // 6️⃣ MOVE DOT
  tl.to(
    dot,
    {
      motionPath: {
        path,
        align: path,
        alignOrigin: [0.5, 0.5],
        start: 0,
        end: 1,
      },
      ease: "none",
    },
    0
  );

  // 7️⃣ STEP CONTROL (START → END ONLY)
  // 7️⃣ STEP CONTROL (START → END ONLY)
tl.eventCallback("onUpdate", () => {
  const progress = tl.scrollTrigger.progress;

  const index = Math.min(
    STEPS.length - 1,
    Math.floor(progress * STEPS.length)
  );

  setActiveIndex(index);
});


  return () => ScrollTrigger.getAll().forEach(t => t.kill());
}, [isMobile]);


  /* =========================
     COUNT UP EFFECT
  ========================= */
  useEffect(() => {
    const step = STEPS[activeIndex];
    if (!step || step.value === null) return;

    gsap.fromTo(
      `.count-${activeIndex}`,
      { innerText: 0 },
      {
        innerText: step.value,
        duration: 1,
        snap: { innerText: 1 },
        ease: "power1.out",
      }
    );
  }, [activeIndex]);

  return (
    <section
      ref={sectionRef}
      className="relative text-[#00945A] -mb-145 hidden md:block"
    >
      {/* TITLE */}
      <div className="text-center mb-24 px-6">
        <h2 className="text-4xl md:text-5xl font-semibold">
          From Farm to Kitchen
        </h2>
        <p className="mt-4 max-w-2xl mx-auto text-[#00945A]/80">
          A journey of freshness, care, and trust powered by Keerai World.
        </p>
      </div>

      {/* =========================
         DESKTOP VIEW
      ========================= */}
      {!isMobile && (
        <div ref={svgWrapRef} className="relative flex justify-center">

         <svg
  viewBox="0 0 1016 1521"
  className="w-[90vw] max-w-[2800px]"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  {/* REVEAL PATH */}
  <path
    ref={pathRef}
    d="M498.029 0.5V31.137C498.029 89.4345 460.956 141.004 403.916 153.044C355.208 163.325 289.442 174.123 211.029 179.5C106.445 186.671 113.471 236.515 143.52 278.713C161.214 303.562 199.587 297.972 228.029 309C237.061 312.361 245.477 318.443 252.206 324.523C261.857 333.243 275.965 346.685 288.754 344.314C299.717 342.282 301.725 328.156 292.559 334.505C291.848 334.997 291.161 335.506 290.529 336C284.129 342.4 291.529 343 296.029 342.5C315.629 338.9 331.529 343 337.029 345.5C358.89 356.826 372.99 365.449 381.07 370.969C386.566 374.724 391.78 378.879 397.028 382.971C420.275 401.099 452.459 431.93 467.029 446.5L424.029 411.5C410.447 399.858 393.771 389.611 383.301 383.822C379.165 381.536 372.058 379.298 372.529 384C373.729 396.4 379.362 418.167 382.029 427.5C394.829 458.3 422.362 478 434.529 484C451.329 493.6 485.196 514 500.029 523C530.829 539.8 565.529 572.5 567.529 583C558.029 554 551.696 525 551.529 512C549.762 489.697 545.781 472.971 541.756 461.452C537.37 448.902 531.023 436.801 522.978 426.218C519.432 421.553 515.609 417.455 511.995 414.045C504.584 407.052 496.594 400.433 487.673 395.508C470.273 385.902 446.465 381.549 434.529 380.5C411.86 379.78 398.551 376.309 393.437 374.164C392.479 373.761 390.583 372.992 389.66 372.513C385.865 370.543 387.523 366.655 390.662 363.753C396.266 358.573 401.896 355.252 406.628 353.228C412.915 350.538 419.737 349.016 426.454 347.731C440.723 345.002 455.422 346.882 462.029 348.5C473.489 350.446 483.809 354.233 491.821 358.013C502.038 362.833 511.723 369.034 522.672 371.816C528.903 373.4 534.845 374.442 539.833 375.092C546.925 376.016 554.566 376.393 560.665 372.658C566.809 368.896 568.265 363.191 568.029 360C567.883 357.526 567.071 356.256 565.969 355.739C561.797 353.781 556.815 360.754 557.853 365.243C559.677 373.14 569.383 372.998 577.163 370.725C582.647 369.123 587.951 367.176 592.291 365.41C597.505 363.289 602.749 361.162 608.268 360.058C632.177 355.279 650.083 359.152 656.529 362L690.529 374.5C711.104 382.356 725.522 398.329 761.633 414.461C789.842 427.063 818.192 444.032 847.704 453.176C880.832 463.441 924.484 468.804 950.029 470.5C984.829 473.7 1004.53 499.5 1010.03 512C1016.61 524.115 997.947 531.612 983.731 534.815C979.653 535.734 975.425 535.57 971.475 534.199C971.141 534.083 970.803 533.964 970.463 533.843C963.945 531.523 957.589 525.022 961.488 519.307C963.708 516.052 966.943 514.705 970.849 514.19C975.332 513.599 978.63 514.28 981.021 515.695C990.255 521.164 989.321 536.016 985.142 545.902C972.337 576.191 903.146 592.985 865.029 598C786.229 614.8 753.196 655.333 746.529 673.5C738.929 701.9 758.696 727 769.529 736C784.729 750.4 811.196 761.333 822.529 765C844.529 772.6 860.029 780.833 865.029 784C888.229 797.6 920.362 806.333 933.529 809C940.714 810.479 946.762 811.742 951.821 812.815C973.255 817.363 953.227 818.545 931.529 815.5C921.676 813.345 903.488 807.298 890.238 802.652C883.424 800.262 876.876 797.205 870.508 793.799C846.701 781.065 824.494 771.163 810.536 765.436C803.906 762.716 796.935 760.763 790.615 757.382C785.947 754.885 781.241 751.87 778.529 750C777.375 749.284 776.285 748.622 775.255 748.012C762.897 740.694 757.168 758.833 759.529 773C764.329 794.6 783.862 815.333 793.029 823C809.429 839.8 842.529 843 857.029 842.5C861.053 842.061 864.123 841.638 866.418 841.235C874.681 839.784 862.348 836.505 854.968 832.516C845.615 827.46 837.057 820.672 833.029 817C829.699 813.67 827.053 810.683 824.975 808.012C815.86 796.295 831.921 781.968 839.029 795C841.326 799.765 843.559 803.875 845.682 807.405C854.463 822.002 868.754 833.522 884.851 839.098C891.479 841.394 897.217 842.338 900.529 842.5C916.929 844.9 941.696 834.5 952.029 829C980.429 815 979.196 811.5 975.029 811.5C966.229 811.5 954.696 804.5 950.029 801C939.229 792.6 926.195 765.5 921.029 753C913.153 732.207 896.281 713.564 884.096 702.593C878.589 697.635 872.317 693.474 865.269 691.185C845.588 684.793 830.956 690.93 825.529 695.5C820.795 698.595 817.331 703.95 814.884 709.619C809.869 721.24 808.867 742.885 796.789 739.103C793.762 738.155 791.145 735.459 789.529 733C784.329 726.2 794.696 708.167 800.529 700C808.929 687.2 820.696 683.333 825.529 683C830.273 682.553 834.21 682.16 837.449 681.814C850.355 680.437 838.04 673.906 826.578 667.817C824.512 666.72 822.907 666.116 820.647 665.507C797.341 659.221 781.961 666.727 777.029 671.5C770.529 676.5 762.029 676.5 759.029 714.5C756.629 744.9 757.029 765 686.029 766C615.029 767 459.029 738.5 348.529 767C238.029 795.5 210.529 833.1 200.529 849.5C195.775 857.297 195.503 862.765 197.189 866.465C200.244 873.168 209.453 869.588 214.247 863.996C217.035 860.742 218.838 856.721 218.937 852.438C219.165 842.581 217.769 829.963 211.029 829C202.629 827.8 202.862 837.5 204.029 842.5C206.195 848.167 205.429 864.1 185.029 882.5C159.529 905.5 140.029 920 99.5287 945.5C90.1259 950.34 69.8933 962.774 53.2222 978.748C46.4457 985.242 39.8272 991.946 32.2853 997.532C26.9523 1001.48 20.9513 1005.79 16.0287 1009L6.5287 1016C2.36203 1019.17 1.82872 1013.7 33.0287 966.5C42.0287 953.833 65.4287 923.6 87.0287 904C95.1954 895.667 116.829 875.9 138.029 863.5C148.195 856.667 171.829 845.3 185.029 854.5C189.992 858.446 197.639 867.912 197.591 879.826C197.559 887.833 194.175 895.513 190.267 902.502C183.046 915.414 167.339 935.518 138.029 957.5C126.362 967 96.6287 989 71.0287 1001C66.1954 1003.67 51.8287 1010.8 33.0287 1018C32.322 1018.23 31.455 1018.47 30.4753 1018.72C19.7322 1021.38 5.12437 1019.75 14.4943 1013.85C14.8335 1013.64 15.1858 1013.42 15.5515 1013.19C18.4883 1011.38 21.7296 1010.07 25.0794 1009.24L25.6946 1009.08C27.2479 1008.7 28.6096 1008.41 30.2096 1008.47C34.5411 1008.63 39.0924 1011.18 41.2923 1014.92C41.9599 1016.05 42.4596 1017.38 42.6417 1018.89C43.1773 1023.36 40.0412 1027.23 37.3527 1030.83C33.8618 1035.5 29.8523 1041.42 27.4803 1046.41C25.7873 1049.98 24.758 1053.72 23.8275 1057.56C21.0262 1069.11 28.7708 1082.5 40.1179 1086.04C47.3268 1088.29 56.6076 1086.41 67.0287 1074.5C101.195 1035.83 85.5286 1145 313.529 1136.5C541.529 1128 572.029 1143.5 656.529 1148.5C741.029 1153.5 796.529 1194 808.029 1204.5C813.614 1209.6 820.379 1216.59 825.86 1222.42C832.161 1229.14 841.598 1231.73 850.529 1229.5C852.529 1229 857.029 1227 855.529 1220C854.029 1213 843.529 1210.5 836.029 1215C832.808 1216.93 824.302 1223.26 815.974 1230.42C801.818 1242.58 781.938 1266.27 781.855 1284.94C781.84 1288.33 781.745 1289.69 781.582 1293.08C780.687 1311.62 785.992 1341.68 789.029 1355.5C790.719 1361.63 792.019 1365.23 792.943 1367.25C793.721 1368.95 795.248 1368.69 795.973 1366.97C796.4 1365.95 796.552 1364.94 796.618 1363.84C796.728 1361.99 796.869 1360.28 797.034 1358.71C798.203 1347.57 805.589 1337.18 807.449 1326.13C807.619 1325.12 807.754 1324.15 807.859 1323.22C808.479 1317.79 808.866 1312.22 808.241 1306.78C806.773 1294.02 797.412 1283.64 792.029 1279.5C784.442 1271.91 772.733 1269.19 762.976 1268.58C754.361 1268.05 745.548 1268.26 737.163 1270.31C725.057 1273.27 715.528 1280.38 711.529 1284.5C708.597 1288.53 706.258 1291.87 704.418 1294.63C697.929 1304.35 713.182 1305.43 722.268 1298.08C723.352 1297.2 724.099 1296.59 725.33 1295.94C730.482 1293.19 738.684 1290.89 742.529 1290C753.729 1287.6 764.196 1284 768.029 1282.5C768.959 1282.23 769.812 1282 770.594 1281.82C778.054 1280.03 776.218 1289.95 772.334 1296.57C771.102 1298.67 769.624 1300.34 767.934 1302.09C767.512 1302.52 767.108 1302.95 766.72 1303.37C759.584 1311.08 756.323 1322.41 749.659 1330.53C746.747 1334.08 744.093 1336.68 742.529 1338C739.875 1340.92 734.243 1343.84 728.612 1346.19C720.733 1349.48 712.241 1350.86 703.799 1352.14C700.268 1352.68 697.264 1353.18 695.529 1353.5C688.274 1355.01 683.583 1355.97 680.672 1356.56C677.148 1357.27 678.727 1354.76 681.029 1352C687.029 1343.6 695.196 1335.83 698.529 1333C701.81 1329.9 707.017 1327.65 712.406 1326.08C723.472 1322.84 736.345 1320.65 747.11 1324.78C752.952 1327.01 758.833 1329.03 762.194 1334.31C766.639 1341.29 766.498 1352.07 765.529 1358C765.028 1366.26 762.019 1376.79 758.98 1385.42C755.996 1393.91 753.6 1402.76 749.058 1410.52C747.686 1412.86 746.381 1414.58 745.529 1415.5C743.529 1417.5 741.362 1411 740.529 1407.5C739.935 1405.32 740.215 1401.17 740.812 1396.85C741.909 1388.9 743.131 1380.89 745.524 1373.23C745.619 1372.93 745.715 1372.62 745.812 1372.32C747.963 1365.67 751.692 1359.52 753.013 1352.65C753.778 1348.67 754.029 1344.79 754.029 1342.5C752.925 1328.69 740.269 1339.77 732.158 1351C729.801 1354.26 727.82 1357.33 726.529 1359.5C719.729 1368.3 713.696 1383.17 711.529 1389.5C708.329 1395.9 706.196 1407.83 705.529 1413C704.329 1419 703.696 1427.17 703.529 1430.5C701.929 1442.5 703.529 1443.17 704.529 1442C707.019 1439.51 708.759 1436.36 710.421 1433.25C711.031 1432.12 711.7 1430.89 712.366 1429.68C714.447 1425.89 717.057 1422.41 719.291 1418.71C721.558 1414.97 723.552 1410.78 724.529 1408.5C726.929 1404.1 725.529 1399.67 724.529 1398C723.373 1395.79 722.56 1393.81 722.004 1392.07C720.139 1386.21 723.723 1377.51 720.995 1372C719.466 1368.91 717.412 1368.67 713.964 1368.62C713.678 1368.62 713.388 1368.62 713.097 1368.62C707.694 1368.7 702.221 1369.46 697.155 1371.34C691.726 1373.36 685.766 1376.56 682.529 1378.5C674.129 1382.9 665.696 1388.67 662.529 1391C662.035 1391.38 661.574 1391.75 661.143 1392.1C654.606 1397.41 665.135 1401.03 672.529 1397C672.863 1396.87 673.295 1396.67 673.795 1396.44C679.71 1393.69 685.12 1389.93 691.008 1387.12C695.52 1384.96 700.038 1383.3 702.529 1382.5C706.529 1381.7 707.529 1383.83 707.529 1385C707.529 1389 700.529 1397 697.029 1400.5C693.829 1404.1 689.362 1416.33 687.529 1422C686.859 1424.01 685.12 1426.94 683.337 1429.63C680.921 1433.28 678.504 1436.86 675.404 1439.95C672.649 1442.7 669.373 1445.05 666.409 1447.58C664.911 1448.85 663.453 1450.15 662.529 1451C661.105 1452.64 659.858 1454.03 658.77 1455.21C652.594 1461.9 653.289 1450 656.529 1441.5C658.929 1434.3 665.196 1422.17 668.029 1417C674.829 1403.8 683.196 1401.5 686.529 1402C694.129 1404 696.362 1409.83 696.529 1412.5C696.305 1422.12 694.714 1431.99 692.947 1440.01C690.799 1449.76 685.831 1460.54 690.853 1469.17C693.653 1473.98 698.841 1475.08 704.029 1476C707.987 1476.7 715.81 1473.96 724.572 1469.97C738.869 1463.45 755.939 1471.96 757.647 1487.58C759.292 1502.62 745.507 1514.73 730.807 1511.16L730.177 1511C717.886 1508.02 710.639 1495.31 714.33 1483.21C715.755 1478.54 718.637 1474.26 723.226 1472.59C726.031 1471.57 729.369 1470.87 732.529 1471.5C741.662 1473.33 737.204 1485.47 728.883 1489.65C727.439 1490.38 725.828 1491.16 724.029 1492C709.029 1499 697.029 1505.5 651.029 1498.5"
    stroke="#00945A"
    strokeWidth="4"
    strokeLinecap="round"
  />

  {/* MOVING DOT */}
  <circle ref={dotRef} r="7" fill="white" />
</svg>




          

          {STEPS.map((step, i) => (
            <DesktopStep
               key={i}
        x={step.x}
        y={step.y}
        value={step.value}
        suffix={step.suffix}
        title={step.title}
        text={step.text}
        index={i}
        active={activeIndex === i}
            />
          ))}
        </div>
      )}

      {/* =========================
         MOBILE VIEW
      ========================= */}
     {isMobile && (
<div className="relative mx-auto  py-10 min-h-[1200px]">

    {/* CURVED PATH */}
    

    
<svg
  viewBox="0 0 613 2476"
  className="absolute left-1/2 top-0 h-full w-full max-w-[320px] -translate-x-1/2"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>

<g filter="url(#filter0_d_47_40)">
<path d="M320.061 0.5V27.413C320.061 78.1477 291.743 124.948 242.725 138.032C219.159 144.323 190.881 150.115 158.846 153.456C96.455 159.964 104.776 207.599 124.202 244.858C131.64 259.123 154.539 255.941 168.395 264.115C173.884 267.221 178.968 273.05 182.885 278.653C187.772 285.644 195.31 297.029 203.295 294.032C209.05 291.872 211.671 280.309 206.745 283.987C205.672 284.788 204.472 286.035 203.503 287.186C199.908 292.655 204.065 293.168 206.593 292.74C217.602 289.664 226.534 293.168 229.623 295.304C240.122 303.578 247.434 310.164 252.171 314.848C256.88 319.505 261.14 324.618 265.335 329.742C278.18 345.431 294.875 369.785 302.648 381.609L278.494 351.701C271.01 341.944 261.856 333.333 255.958 328.339C253.433 326.201 249.348 324.901 249.565 328.202C250.239 338.798 253.403 357.398 254.901 365.373C262.091 391.692 277.557 408.526 284.392 413.653C293.829 421.856 312.853 439.288 321.185 446.978C338.486 461.334 357.978 489.276 359.101 498.249C353.765 473.468 350.207 448.688 350.114 437.579C349.099 418.094 346.784 403.591 344.472 393.731C342.125 383.723 338.794 373.822 334.239 364.606C333.055 362.211 331.813 359.987 330.571 357.957C325.209 349.192 318.729 340.707 310.184 335C301.036 328.89 290.206 325.989 284.392 325.212C272.462 324.636 265.146 321.996 261.908 320.157C260.941 319.608 259.42 318.676 258.629 317.894C256.761 316.044 257.803 313.727 259.291 311.56C261.284 308.655 263.293 306.399 265.187 304.667C270.327 299.966 277.35 297.194 284.258 296.3C290.745 295.46 296.808 296.738 299.839 297.867C305.027 299.208 309.8 301.57 313.813 304.127C321.84 309.242 331.232 317.52 340.451 319.887C348.123 321.856 355.317 321.351 358.271 314.002C359.206 311.673 359.461 309.308 359.382 307.694C359.284 305.164 358.65 304.108 357.842 303.864C355.417 303.13 353.566 307.867 353.541 310.401C353.47 317.534 361.82 318.408 368.14 315.099C370.113 314.067 371.96 312.982 373.547 311.983C376.135 310.353 378.766 308.745 381.687 307.836C395.267 303.611 405.447 306.952 409.095 309.403L428.194 320.085C435.63 324.404 441.634 331.594 450.373 339.844C474.566 362.684 504.129 385.146 536.029 394.599C550.011 398.742 564.295 401.141 573.962 402.117C593.51 404.851 604.576 426.898 607.665 437.579C611.176 447.417 601.885 453.691 594.1 456.639C591.09 457.78 587.976 457.634 585.153 456.088C581.765 454.233 578.668 450.914 579.361 447.115C579.481 446.459 579.649 445.827 579.85 445.226C580.964 441.895 584.005 439.209 587.517 439.269C591.04 439.33 592.928 441.917 593.838 445.086C595.293 450.156 595.191 455.635 594.719 460.888C592.073 490.351 549.14 506.478 526.215 511.066C481.951 525.422 463.395 560.058 459.65 575.581C455.381 599.849 466.485 621.297 472.57 628.988C481.108 641.293 495.975 650.635 502.342 653.769C514.7 660.263 523.406 667.298 526.215 670.004C539.247 681.625 557.297 689.088 564.693 691.367C568.911 692.688 572.432 693.807 575.35 694.75C586.828 698.461 575.366 699.44 563.57 696.921C559.451 695.55 552.738 692.338 546.506 689.148C538.545 685.073 531.258 679.839 524.216 674.325C516.226 668.069 508.749 662.77 502.637 658.69C494.381 653.179 485.248 648.719 478.291 641.638C478.051 641.394 477.829 641.164 477.626 640.951C468.908 632.719 465.777 647.103 466.802 659.049C466.85 659.613 466.901 660.134 466.953 660.605C469.649 679.062 480.622 696.779 485.771 703.33C494.983 717.685 513.576 720.42 521.721 719.993C530.222 718.582 522.86 714.013 516.709 707.978C513.048 704.386 509.932 700.55 508.24 698.203C505.741 694.401 503.927 691.123 502.645 688.313C498.443 679.105 508.194 669.877 511.61 679.404C512.847 683.305 514.049 686.692 515.197 689.622C519.876 701.568 530.06 715.308 542.293 719.174C546.43 720.481 548.362 720.732 552.629 719.948C560.981 718.413 570.53 712.145 575.085 708.457C591.038 696.494 590.345 693.503 588.005 693.503C583.062 693.503 576.583 687.521 573.962 684.531C567.895 677.353 560.574 654.196 557.672 643.514C553.8 627.965 546.058 613.823 539.597 604.25C534.984 597.414 529.191 590.633 521.146 588.816C512.736 586.916 506.575 591.116 504.027 594.38C500.84 597.55 498.678 603.493 497.296 609.349C495.313 617.744 496.685 634.207 488.392 631.834C486.478 631.286 484.802 628.733 483.805 626.424C480.884 620.614 486.707 605.204 489.984 598.226C494.702 587.288 501.312 583.984 504.027 583.699C505.826 583.442 507.418 583.205 508.823 582.987C517.089 581.706 511.113 575.973 504.606 570.717C503.408 569.75 502.49 569.234 501.062 568.661C488.095 563.453 479.538 569.817 476.783 573.872C473.132 578.145 468.357 578.145 466.672 610.616C465.324 636.593 465.549 653.769 425.666 654.623C385.783 655.478 298.154 631.124 236.083 655.478C174.012 679.831 158.565 711.96 152.948 725.974C150.914 731.048 150.341 734.968 150.601 737.946C151.147 744.179 158.443 742.283 161.515 736.832C162.531 735.028 163.146 733.024 163.223 730.955C163.544 722.345 163.015 709.363 158.846 708.457C154.127 707.431 154.258 715.72 154.914 719.993C156.131 724.835 155.7 738.45 144.241 754.173C129.917 773.826 118.963 786.217 96.2133 808.007C91.238 811.902 80.8646 821.556 71.8503 834.073C66.7254 841.189 61.9649 848.602 56.0796 855.103C53.7567 857.669 51.3654 860.228 49.3091 862.268L43.9727 868.249C41.6322 870.955 41.3326 866.284 58.8585 825.951C63.914 815.127 77.0584 789.293 89.1917 772.545C93.7792 765.424 105.931 748.533 117.84 737.937C123.551 732.098 136.826 722.385 144.241 730.247C147.892 734.662 154.127 747.166 149.858 761.863C148.547 769.981 140.309 792.625 117.84 818.261C111.286 826.378 94.5843 845.177 80.2041 855.432C77.4891 857.71 69.419 863.806 58.8585 869.958C52.5257 873.041 43.5238 871.098 48.6266 866.244C48.8793 866.003 49.1443 865.754 49.4221 865.495C50.815 864.197 52.4684 863.202 54.2478 862.526L54.3218 862.497C55.4695 862.061 56.4742 861.709 57.6943 861.847C59.9855 862.107 61.9478 864.205 63.0146 866.25C63.7559 867.67 64.3212 869.571 64.3 871.935C64.2732 874.921 62.8946 877.68 61.5667 880.354C58.7443 886.039 55.1751 894.178 54.6455 899.011C51.5072 911.628 58.3345 934.071 69.6839 927.728C72.2356 926.302 75.0156 923.352 77.9572 918.238C97.1495 885.197 88.3491 978.48 216.423 971.217C344.497 963.954 361.629 977.198 409.095 981.471C456.561 985.743 487.737 1020.35 494.197 1029.32C497.743 1034.25 502.137 1041.24 505.378 1046.54C508.013 1050.84 513.349 1052.48 518.07 1050.69C519.193 1050.26 521.721 1048.55 520.879 1042.57C520.036 1036.59 514.138 1034.45 509.925 1038.3C508.259 1039.82 504.077 1044.52 499.772 1050.03C489.866 1062.71 479.516 1082.03 479.494 1098.12C479.49 1100.78 479.446 1102 479.352 1104.66C478.793 1120.48 481.805 1146.46 483.524 1158.35C484.391 1163.14 485.075 1166.12 485.583 1167.91C486.061 1169.6 487.099 1169.43 487.538 1167.73C487.693 1167.13 487.746 1166.58 487.769 1165.96C487.812 1164.76 487.866 1163.63 487.928 1162.56C488.519 1152.35 493.091 1142.03 494.013 1131.85C494.105 1130.82 494.17 1129.86 494.213 1128.96C494.377 1125.49 494.509 1122.01 494.41 1118.54C494.075 1106.81 488.399 1097.14 485.209 1093.41C483.805 1091.27 482.149 1089.59 480.364 1088.27C469.865 1080.52 453.457 1083.13 444.279 1092.41C442.392 1094.32 440.923 1096.22 439.99 1097.68C437.855 1102.15 436.279 1105.63 435.148 1108.3C432.506 1114.56 442.062 1114.34 446.254 1109C446.627 1108.52 446.937 1108.14 447.394 1107.75C450.254 1105.27 455.155 1103.17 457.404 1102.38C463.695 1100.33 469.574 1097.26 471.728 1095.97C471.799 1095.94 471.869 1095.91 471.938 1095.88C477.449 1093.5 476.447 1101.94 474.315 1107.56C473.512 1109.67 472.464 1111.43 471.274 1113.35C470.983 1113.82 470.708 1114.28 470.448 1114.72C466.591 1121.31 465.407 1129.36 461.88 1136.13C460.063 1139.62 458.366 1142.17 457.404 1143.4C456.486 1144.94 454.934 1146.47 453.139 1147.89C446.855 1152.87 438.727 1154.51 431.002 1156.64C427.783 1157.66 425.462 1158.39 423.823 1158.9C421.114 1159.74 421.495 1157.85 422.857 1155.36C426.228 1148.18 430.815 1141.55 432.688 1139.13C434.377 1136.7 436.974 1134.88 439.726 1133.56C446.142 1130.48 454.336 1128.66 460.417 1132.36C463.331 1134.13 466.265 1135.98 467.86 1138.99C470.956 1144.84 470.907 1155.05 470.323 1160.49C469.874 1171.77 465.829 1187.98 463.863 1194.67C462.74 1202.19 460.212 1207.77 459.089 1209.62C457.965 1211.33 456.748 1205.78 456.28 1202.79C455.606 1199.03 456.935 1188.4 457.684 1183.56C457.909 1177.41 460.212 1168.18 461.336 1164.33C463.358 1159.55 463.863 1150.95 463.863 1147.24C463.266 1135.88 455.532 1145.81 450.806 1156.16C449.822 1158.32 448.995 1160.29 448.416 1161.77C444.596 1169.29 441.207 1181.99 439.99 1187.41C438.193 1192.88 436.994 1203.07 436.62 1207.49C435.946 1212.61 435.59 1219.59 435.496 1222.44C434.597 1232.7 435.496 1233.26 436.058 1232.27C437.497 1230.08 438.392 1227.58 439.259 1225.11C439.61 1224.1 440.003 1223 440.397 1221.91C441.606 1218.56 443.186 1215.35 444.483 1212.04C445.701 1208.92 446.763 1205.52 447.292 1203.64C448.641 1199.88 447.854 1196.09 447.292 1194.67C446.416 1192.12 445.89 1189.93 445.598 1188.11C444.934 1183.97 446.292 1179.75 445.914 1175.57C445.82 1174.54 445.652 1173.65 445.447 1172.92C444.929 1171.05 443.487 1169.65 441.555 1169.57C438.125 1169.43 434.498 1170.37 431.537 1172.11C428.592 1173.84 425.443 1176.42 423.7 1178.01C418.981 1181.77 414.244 1186.69 412.465 1188.69C411.447 1189.89 410.672 1190.9 410.099 1191.73C407.835 1195.03 414.017 1196.35 417.431 1194.27C418.127 1193.85 418.433 1193.6 419.093 1193.12C419.605 1192.75 420.208 1192.3 420.82 1191.82C422.755 1190.33 424.481 1188.58 426.356 1187.01C427.947 1185.68 429.675 1184.48 431.225 1183.51C433.629 1182.01 437.743 1180.73 437.743 1183.56C437.743 1186.98 433.811 1193.82 431.845 1196.81C430.047 1199.88 427.538 1210.34 426.509 1215.18C426.086 1217.11 424.905 1220.03 423.783 1222.54C422.658 1225.06 421.595 1227.55 420.114 1229.88C418.348 1232.65 416.066 1235.15 414.081 1237.77C413.449 1238.6 412.867 1239.4 412.465 1239.96C411.954 1240.85 411.483 1241.66 411.05 1242.4C407.035 1249.18 407.18 1239.49 409.095 1231.84C410.443 1225.69 413.963 1215.32 415.555 1210.91C416.405 1208.4 417.299 1206.35 418.195 1204.68C421.585 1198.39 430.897 1199.53 431.537 1206.65C431.55 1206.79 431.559 1206.93 431.564 1207.06C431.423 1216.27 430.318 1225.75 429.19 1232.97C428.148 1239.65 426.348 1246.44 427.69 1253.07C428.946 1259.27 432.362 1260.4 435.777 1261.32C436.567 1261.53 437.631 1261.37 438.896 1260.93C450.894 1256.7 465.166 1261.06 466.078 1273.75L466.314 1277.03C467.008 1286.69 457.497 1293.83 448.419 1290.48C442.272 1288.2 438.692 1281.8 439.981 1275.37L441.541 1267.59C442.363 1263.49 444.107 1259.17 448.031 1257.72C449.239 1257.28 450.538 1257.1 451.786 1257.48C458.509 1259.52 454.421 1269.52 448.781 1273.71C448.23 1274.12 447.641 1274.55 447.012 1274.99C438.586 1280.97 431.845 1286.53 406.006 1280.55C380.166 1274.57 373.145 1266.45 273.157 1310.46C198.514 1343.31 171.644 1383.43 162.819 1401.65C159.74 1408.01 157.304 1414.69 154.131 1421.01M154.131 1421.01L144.3 1415.78C135.853 1411.97 127.689 1410.65 120.535 1410.69C105.25 1410.77 87.3757 1417.91 85.6284 1433.1C85.1118 1437.59 85.3699 1442.05 85.8808 1445.26C87.903 1456.2 93.6514 1467.76 96.2728 1472.18C100.092 1480.38 105.354 1488.41 107.507 1491.41L112.976 1498.97C113.448 1499.62 113.997 1500.21 114.613 1500.73L117.301 1503C118.199 1503.76 119.422 1504.02 120.547 1503.67C121.201 1503.47 121.807 1503.08 121.968 1502.42C122.464 1500.37 121.942 1496.42 121.55 1494.4C120.876 1484.83 113.405 1472.18 109.754 1467.05L102.171 1454.66L92.1736 1437.85C91.7255 1437.1 91.1733 1436.41 90.5334 1435.81L88.2533 1433.68C87.9921 1433.43 87.6478 1433.3 87.2901 1433.3C86.5118 1433.3 85.8808 1433.93 85.8808 1434.71V1437C85.8808 1437.38 85.9364 1437.75 86.0564 1438.11C88.8934 1446.58 96.2516 1457.46 99.6431 1461.92C105.26 1469.79 112.844 1479.16 115.933 1482.86C123.723 1490.85 120.935 1474.7 116.887 1464.3C116.128 1462.35 115.392 1460.63 114.81 1459.36C109.642 1443.64 98.426 1434.3 93.4641 1431.59C87.1728 1427.49 83.1658 1433.3 81.9487 1436.72C76.1068 1450.05 72.2121 1458.51 70.995 1461.07C70.2353 1462.54 69.1022 1463.86 67.8129 1465.01C62.8577 1469.44 55.9455 1471.35 49.3271 1470.76C48.8025 1470.71 48.2838 1470.66 47.7782 1470.6C45.0891 1470.3 42.4637 1469.6 39.9401 1468.62C38.1753 1467.94 37.0627 1467.47 36.4934 1467.21C36.2746 1467.11 36.0716 1466.98 35.8801 1466.83C34.6793 1465.92 34.0969 1464.41 34.3754 1462.92L34.8094 1460.61C34.9651 1459.78 35.2444 1458.98 35.6992 1458.27C37.7752 1455.03 40.6481 1452.42 43.3597 1450.49C47.2783 1447.71 51.6618 1445.6 55.9852 1443.5C59.0297 1442.03 62.0452 1440.77 64.2114 1439.93C65.3577 1439.48 66.5461 1439.17 67.7537 1438.94L70.1726 1438.48C71.826 1438.16 73.5269 1438.2 75.1656 1438.58L75.7749 1438.72C76.145 1438.81 76.5056 1438.93 76.8514 1439.09L78.2666 1439.74C78.8234 1439.99 79.2488 1440.47 79.4399 1441.05C79.6085 1441.56 79.5848 1442.12 79.3539 1442.61C77.1249 1447.32 73.8917 1450.92 70.8568 1453.46C66.8799 1456.78 62.2887 1459.53 57.6784 1461.89C52.9568 1464.31 47.1357 1466.66 43.7513 1467.91C43.3766 1468.03 43.0238 1468.14 42.6917 1468.25C38.1723 1469.69 40.3624 1463.39 43.9694 1460.31C45.4275 1459.06 46.4497 1459.29 48.1786 1458.46C50.2763 1457.46 53.0001 1455.75 55.4264 1454.11C58.1631 1452.26 60.5682 1449.97 63.0835 1447.83C63.872 1447.16 64.6366 1446.55 65.3728 1446.02C70.8976 1441.98 79.1221 1443.26 79.4438 1450.1C79.5862 1453.12 79.111 1456.33 78.5784 1458.51C74.5339 1472.86 69.4035 1485.85 67.3438 1490.55C61.5019 1503.88 62.2883 1518.61 63.4117 1524.3C64.7599 1536.27 76.8932 1544.38 82.7913 1546.95C87.7597 1549.47 92.417 1553.79 95.6818 1557.4C98.2829 1560.27 100.543 1563.45 102.432 1566.84C103.813 1569.31 105.401 1572.31 106.762 1574.93C108.009 1577.33 108.817 1580.77 110.265 1583.05C112.28 1586.24 116.033 1586.31 119.01 1588.63C122.223 1591.12 122.873 1595.36 122.674 1597.79C121.702 1602.23 119.259 1601.44 117.709 1600.13C117.247 1599.74 116.778 1599.35 116.399 1598.88C115.08 1597.24 114.889 1594.12 115.109 1591.25C115.274 1589.11 117.191 1587.33 115.652 1585.83C105.916 1576.31 90.517 1574.66 82.5467 1563.62C81.955 1562.8 81.3763 1561.98 80.8136 1561.16C75.6204 1553.64 69.9852 1546.1 67.2826 1537.36C64.7929 1529.32 64.0105 1520.06 63.9885 1512.84C63.9736 1507.97 62.0201 1501.12 59.1988 1505.08C54.705 1513.62 52.8325 1520.32 52.4581 1522.59C48.863 1534.56 43.0959 1545.52 40.6618 1549.51C39.1618 1552.5 36.363 1556.28 33.5132 1559.76C28.9626 1565.32 23.5359 1572.91 16.7884 1570.45C13.6427 1569.42 12.6691 1574.29 12.5755 1576.86C12.5755 1579.43 12.1823 1583.18 11.8893 1585.5C11.7902 1586.29 11.77 1587.21 11.1413 1587.7C10.9186 1587.87 10.6621 1587.92 10.3843 1587.88C6.81756 1587.4 5.00418 1582.59 4.5996 1579.01C4.58262 1578.86 4.56692 1578.71 4.55246 1578.57C4.44059 1577.43 4.45468 1576.21 5.15073 1575.31C5.17867 1575.27 5.20705 1575.24 5.23586 1575.2C7.25719 1572.81 11.0428 1573.8 13.0438 1571.39C14.1459 1570.06 15.0084 1568.29 15.2514 1566.58C15.6459 1563.81 15.8923 1560.8 16.0388 1558.15C16.2615 1554.12 16.636 1550.05 18.093 1546.29C18.8155 1544.42 19.585 1542.76 20.3533 1541.31C23.1102 1536.09 27.1598 1531.58 31.6901 1527.8C36.9737 1523.39 42.7585 1520.38 45.7173 1519.18C56.3901 1514.48 56.671 1518.75 57.5136 1523.88C57.9271 1526.39 58.6437 1542.97 59.2871 1560.08C60.0204 1579.58 64.7602 1598.73 73.2476 1616.3C80.3806 1631.06 88.1361 1647.04 95.968 1662.27C121.244 1711.43 179.996 1754.9 234.928 1761.01C328.641 1771.44 438.028 1734.68 520.879 1794.96C533.143 1803.5 560.649 1831.53 572.557 1875.28C577.239 1888.24 583.792 1913.82 572.557 1912.45C561.323 1911.09 557.391 1891.95 556.829 1882.55C556.361 1872.58 560.199 1850.16 579.298 1840.25C591.576 1833.88 597.315 1843.64 599.649 1855.63C602.105 1868.24 596.734 1880.75 588.915 1890.94C586.442 1894.17 583.651 1897.13 580.669 1899.89C569.005 1910.7 549.939 1929.99 541.101 1944.92C536.513 1952.05 526.721 1972.01 524.249 1994.91C523.781 1996.91 523.294 2005.68 525.092 2024.82C525.092 2028.38 524.137 2037.47 520.317 2045.33C516.853 2053.02 507.06 2064.56 495.601 2049.17C491.856 2044.05 483.074 2028.92 477.907 2009.44C477.431 2006.81 477.071 2002.72 477.442 1998.65C478.247 1989.8 486.449 1983.84 490.051 1975.72C490.976 1973.63 491.679 1971.44 491.95 1969.28C492.605 1965.43 493.354 1956.55 491.107 1951.76C490.171 1949.2 488.692 1943.39 490.265 1940.65C492.715 1935.81 499.433 1938.69 503.076 1942.71C504.531 1944.32 506.032 1946.33 507.397 1948.77C509.831 1953.33 514.756 1965.52 514.98 1977.82C515.074 1986.65 514.475 2008.41 511.329 2024.82C510.955 2031.51 503.184 2058.57 502.903 2059.43C502.623 2060.28 507.572 2055.33 509.644 2051.31C511.038 2048.61 511.891 2045.19 512.453 2043.62C512.453 2043.62 514.483 2037.76 514.7 2032.94C514.8 2030.69 514.882 2028.88 514.948 2027.42C515.01 2026.07 513.865 2031.62 513.576 2032.94C513.014 2035.5 511.329 2043.19 509.644 2047.46C508.664 2049.95 507.209 2053.01 506.163 2055.14C505.894 2055.69 507.018 2057.12 507.116 2057.72C507.397 2059.43 508.801 2061.56 506.555 2064.56C499.906 2073.4 491.517 2081.52 488.827 2092.25C488.365 2094.1 488.067 2095.99 488.018 2097.88C487.662 2100.05 490.11 2101.34 491.448 2099.6C491.645 2099.34 491.833 2099.06 492.007 2098.75C492.165 2098.46 492.327 2098.18 492.512 2097.91C493.724 2096.13 495.895 2092.49 496.724 2089.34C497.583 2086.98 498.824 2083.16 499.894 2078.98C502.307 2069.56 500.917 2059.79 498.391 2050.4C494.799 2037.04 489.885 2020.03 485.771 2009.44C483.363 2002.23 477.641 1987.1 471.399 1975.71C468.992 1971.32 466.741 1966.76 463.469 1962.97C459.513 1958.39 451.367 1958.84 448.946 1964.39C448.859 1964.59 448.776 1964.79 448.697 1965.01C448.322 1966.57 447.798 1970.3 448.697 1972.7C449.633 1974.97 451.618 1980.22 452.067 1982.95C452.535 1986.51 453.415 1994.66 453.191 1998.76C453.071 2002.66 452.967 2009.56 453.139 2015.38C453.3 2020.83 453.771 2026.28 453.971 2031.73C453.999 2032.48 454.029 2033.23 454.062 2033.97C454.332 2040.13 454.935 2046.71 456.599 2052.64C457.756 2056.77 460.168 2060.2 463.806 2062.46C465.168 2063.3 466.787 2064.07 468.638 2064.56C470.831 2065.24 474.988 2066.44 478.611 2067.23C481.481 2067.86 485.238 2069.76 487.175 2067.55C490.821 2064.38 480.673 2061.49 476.541 2058.98C474.44 2057.71 472.173 2056.39 470.014 2055.21C465.161 2052.57 460.408 2049.84 455.026 2048.59C452.319 2047.96 449.19 2048.69 447.323 2050.75C446.802 2051.33 446.274 2052.01 445.765 2052.81C443.212 2056.85 442.113 2061.63 440.718 2066.19C440.03 2068.44 439.349 2070.95 438.788 2073.54C437.149 2081.1 436.488 2088.98 437.492 2096.65C437.668 2097.99 437.909 2099.37 438.233 2100.76C439.412 2105.84 439.584 2109.08 443.834 2112.1C450.248 2116.65 461.445 2111.29 467.852 2106.72C471.989 2103.78 476.44 2100.33 479.873 2097.03C483.222 2093.33 489.662 2085.59 494.576 2077.93C497.709 2073.05 503.002 2070.79 502.061 2076.52C501.608 2082.33 499.821 2093.46 495.941 2103.39C492.623 2111.88 487.283 2119.48 484.093 2128.02C482.353 2132.68 480.476 2138.22 478.695 2144.4C474.423 2159.23 475.234 2175.64 468.7 2189.61C464.665 2198.25 457.694 2208.26 446.169 2218.37C421.453 2235.6 341.744 2285.7 306.018 2341.41C302.46 2349.11 289.391 2367.73 265.574 2380.72C259.681 2383.38 245.885 2387.43 229.694 2387.02C220.058 2386.77 210.882 2382.86 201.294 2381.87C196.69 2381.4 191.774 2381.62 187.494 2383.29C178.036 2388.4 181.813 2404.62 188.969 2396.6C191.264 2394.02 194.108 2390.64 197.605 2386.28C203.597 2380.15 232.24 2346.12 239.43 2301C240.701 2288.97 237.102 2272.96 231.689 2260.84C228.473 2253.64 223.31 2247.16 215.8 2244.74C203.552 2240.8 183.892 2239.73 176.93 2254C166.93 2274.5 172.93 2274 169.074 2288.43C166.885 2296.62 169.07 2300.21 167.889 2297.57C162.193 2284.84 159.973 2274.52 151.43 2263.5C139.664 2248.32 117.43 2239.5 97.9296 2257C78.4296 2274.5 80.9296 2287.5 80.9296 2298.5C80.9296 2309.5 84.4916 2328.23 93.7106 2346.87C102.93 2365.5 126.563 2386.43 145.886 2402.15C147.946 2403.72 155.436 2409.42 159.93 2406C164.204 2402.75 158.654 2399.44 153.678 2397.42C143.042 2393.1 124.199 2387.18 115.899 2391.73C110.188 2394.58 96.5754 2402.75 87.8125 2412.66C76.2971 2424.63 50.57 2452.23 39.7849 2466.92M154.131 1421.01L161.591 1424.97C165.397 1426.99 168.075 1430.64 168.871 1434.87L169.278 1437.04C169.653 1439.04 169.287 1441.1 168.251 1442.84L167.763 1443.66C165.908 1446.78 162.031 1448.04 158.694 1446.61C156.695 1445.76 155.186 1444.05 154.585 1441.96L153.005 1436.46C152.086 1433.27 152.009 1429.89 152.781 1426.66L154.131 1421.01Z" stroke="white" stroke-linecap="round" shape-rendering="crispEdges"/>
</g>
<defs>
<filter id="filter0_d_47_40" x="0" y="0" width="612.93" height="2475.42" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
<feFlood flood-opacity="0" result="BackgroundImageFix"/>
<feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
<feOffset dy="4"/>
<feGaussianBlur stdDeviation="2"/>
<feComposite in2="hardAlpha" operator="out"/>
<feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"/>
<feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_47_40"/>
<feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_47_40" result="shape"/>
</filter>
</defs>
</svg>

    {/* STEPS */}
    <div className="relative">
      {MOBILE_STEPS.map((step, i) => (
        <MobileStep
          key={i}
          {...step}
          index={i}
          active={activeIndex === i}
          
        />
      ))}
    </div>
  </div>
)}


    </section>
  );
}

/* =========================
   DESKTOP STEP
========================= */
function DesktopStep({ x, y, value, suffix, title, text, index, active }) {
  return (
    <div
      className={` absolute max-w-xs transition-all duration-500 text-[##00945A] ${
        active ? "opacity-100" : "opacity-30"
      }`}
      style={{
        left: x,
        top: y,
        transform: "translate(-50%, -50%)",
      }}
    >
      {value !== null && (
        <div className={`text-4xl font-semibold mb-2 count-${index}`}>
          0{suffix}
        </div>
      )}
      <h3 className="md:text-6xl font-semibold">{title}</h3>
      <p className="md:text-sm text-[#00945A]/80 mt-1 leading-relaxed">
        {text}
      </p>
    </div>
  );
}


/* =========================
   MOBILE STEP
========================= */
function MobileStep({ x, y, value, suffix, title, text, index, active }) {
  return (
    <div
      className={`absolute max-w-[85%] transition-all duration-500 ${
        active ? "opacity-100" : "opacity-30"
      }`}
      style={{
        left: x,              // ✅ true left positioning
        top: y,
        transform: "translateY(-50%)", // ❌ REMOVE translateX
      }}
    >
      {value !== null && (
        <div className={`text-base font-semibold mb-2 count-${index}`}>
          0{suffix}
        </div>
      )}

      <h3 className="text-xs font-semibold">{title}</h3>

      <p className="text-[8px] text-white/70 mt-1 leading-relaxed">
        {text}
      </p>
    </div>
  );
}







