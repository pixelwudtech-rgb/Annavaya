"use client";

import { useEffect, useRef, useState } from "react";
import gsap from "gsap";
import { ScrollTrigger } from "gsap/ScrollTrigger";
import { MotionPathPlugin } from "gsap/MotionPathPlugin";

gsap.registerPlugin(ScrollTrigger, MotionPathPlugin);

/* =========================
   DATA
========================= */
const STEPS = [
  
  {
    x: 1300,
   
    y: 220,
    value: 425,
    suffix: "+",
  title: "Our Promise of Purity",
    text: "We stand by one clear promise: clean, honest, and uncompromised keerai. No shortcuts, no unnecessary processing, only what your family needs.",
   },
  {
    x: 250,
    y: 560,
    value: 7663,
    suffix: "+",
    title: "Freshness You Can Rely On",
    text: "From harvest to delivery, freshness is carefully protected. Gentle handling and quick movement ensure your keerai reaches the kitchen in its best condition.",
   },
  {
    x: 900,
    y: 1200,
    value: null,
    suffix: "+",
  title: "Thank You for Your Trust",
    text: "Your support helps strengthen farming communities and promotes healthier food choices. Together, we continue building a more responsible food system.",
   },
  
];


const MOBILE_STEPS = [
  {
    x: 150,
    y: 40,
    value: 425,
    suffix: "+",
    title: "Fresh Keerai Bundles Delivered",
    text: "Every day, freshly harvested keerai is carefully selected from trusted farms. We focus on natural freshness, gentle handling, and timely delivery so quality is preserved from field to home.",
  },
  {
    x: 0,
    y: 20,
    value: 766,
    suffix: "+",
    title: "Meals Made Healthier",
    text: "Our keerai supports everyday home cooking with essential nutrients. Families rely on it for balanced meals that nourish, energize, and support long-term well-being.",
  },
  {
    x: 170,
    y: 340,
    value: 240,
    suffix: "+",
    title: "Trusted Farming Partners",
    text: "We work closely with farmers who follow responsible growing practices. Long-term partnerships ensure consistency, fair sourcing, and respect for the land.",
  },
  {
    x: 10,
    y: 510,
    value: 5,
    suffix: "",
    title: "Multi-Stage Quality Checks",
    text: "Each batch is reviewed through multiple stages of inspection. Cleanliness, freshness, and handling standards are verified before the produce moves forward.",
  },
  {
    x: 170,
    y: 1700,
    value: null,
    suffix: "",
    title: "Our Promise of Purity",
    text: "We stand by one clear promise: clean, honest, and uncompromised keerai. No shortcuts, no unnecessary processing, only what your family needs.",
  },
  {
    x: 170,
    y: 680,
    value: null,
    suffix: "",
    title: "Freshness You Can Rely On",
    text: "From harvest to delivery, freshness is carefully protected. Gentle handling and quick movement ensure your keerai reaches the kitchen in its best condition.",
  },
  {
    x: 10,
    y: 900,
    value: null,
    suffix: "",
    title: "Thank You for Your Trust",
    text: "Your support helps strengthen farming communities and promotes healthier food choices. Together, we continue building a more responsible food system.",
  },
];


export default function PremiumProcessTimeline() {
  const sectionRef = useRef(null);
  const pathRef = useRef(null);
  const dotRef = useRef(null);
  const svgWrapRef = useRef(null);


  const [activeIndex, setActiveIndex] = useState(0);
  const [isMobile, setIsMobile] = useState(false);

  /* =========================
     MOBILE DETECTION
  ========================= */
  /* =========================
   MOBILE DETECTION (REQUIRED)
========================= */
useEffect(() => {
  const checkMobile = () => {
    setIsMobile(window.innerWidth < 768);
  };

  checkMobile();
  window.addEventListener("resize", checkMobile);

  return () => window.removeEventListener("resize", checkMobile);
}, []);

 useEffect(() => {
  if (isMobile) return;

  const path = pathRef.current;
  const dot = dotRef.current;

  if (!path || !dot) return;

  // 1️⃣ GET PATH LENGTH
  const length = path.getTotalLength();

  // 2️⃣ HIDE PATH INITIALLY
  gsap.set(path, {
    strokeDasharray: length,
    strokeDashoffset: length,
  });

  // 3️⃣ PLACE DOT AT START
  gsap.set(dot, {
    motionPath: {
      path,
      align: path,
      alignOrigin: [0.5, 0.5],
      start: 0,
      end: 0,
    },
  });

  // 4️⃣ CREATE TIMELINE (single source of truth)
  const tl = gsap.timeline({
    scrollTrigger: {
      trigger: svgWrapRef.current,
start: "top center",

      end: "+=1500",
      scrub: true,
    },
  });

  // 5️⃣ REVEAL LINE
  tl.to(
    path,
    {
      strokeDashoffset: 0,
      ease: "none",
    },
    0
  );

  // 6️⃣ MOVE DOT
  tl.to(
    dot,
    {
      motionPath: {
        path,
        align: path,
        alignOrigin: [0.5, 0.5],
        start: 0,
        end: 1,
      },
      ease: "none",
    },
    0
  );

  // 7️⃣ STEP CONTROL (START → END ONLY)
  // 7️⃣ STEP CONTROL (START → END ONLY)
tl.eventCallback("onUpdate", () => {
  const progress = tl.scrollTrigger.progress;

  const index = Math.min(
    STEPS.length - 1,
    Math.floor(progress * STEPS.length)
  );

  setActiveIndex(index);
});


  return () => ScrollTrigger.getAll().forEach(t => t.kill());
}, [isMobile]);


  /* =========================
     COUNT UP EFFECT
  ========================= */
  useEffect(() => {
    const step = STEPS[activeIndex];
    if (!step || step.value === null) return;

    gsap.fromTo(
      `.count-${activeIndex}`,
      { innerText: 0 },
      {
        innerText: step.value,
        duration: 1,
        snap: { innerText: 1 },
        ease: "power1.out",
      }
    );
  }, [activeIndex]);

  return (
    <section
      ref={sectionRef}
      className="relative text-white -mt-12 z-0 hidden md:block"
    >
    

      {/* =========================
         DESKTOP VIEW
      ========================= */}
      {!isMobile && (
        <div ref={svgWrapRef} className="relative flex justify-center">

   <svg
  viewBox="0 0 1105 1235"
  className="w-[90vw] max-w-[2800px]"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  {/* MAIN PATH */}
  <path
    ref={pathRef}
    d="M270.641 12.5777L253.141 6.46324C227.418 -1.16882 203.177 -0.261388 186.875 2.51569C176.231 4.32897 164.446 5.38813 156.299 12.4742C147.303 20.2983 147.336 33.5048 149.141 40.9632C152.741 53.7632 162.974 67.2966 167.641 72.4632C174.441 82.0632 183.807 91.4632 187.641 94.9632L196.815 103.303C198.028 104.406 199.365 105.365 200.798 106.162L204.959 108.473C206.69 109.435 208.707 109.75 210.649 109.362C211.958 109.1 213.288 108.506 213.57 107.202C213.921 105.582 213.696 103.31 213.321 101.319C212.959 99.3986 212.595 97.472 212.096 95.5823C209.262 84.8472 197.597 71.961 191.641 66.4632L178.141 51.9632L160.858 32.8612C159.719 31.6023 158.407 30.5116 156.961 29.6218L153.298 27.3679C152.868 27.1033 152.373 26.9632 151.869 26.9632C150.362 26.9632 149.141 28.1846 149.141 29.6911V31.0363C149.141 31.6465 149.273 32.2489 149.554 32.7907C154.676 42.6777 167.643 55.2758 173.641 60.4632C183.641 69.6632 197.141 80.6299 202.641 84.9632C202.98 85.1921 203.312 85.4136 203.636 85.6281C216.092 93.8747 210.73 73.2686 202.745 60.6434C201.153 58.1258 200.025 56.0916 198.463 53.5548C188.586 37.509 170.83 27.8988 162.641 24.9632C151.441 20.1632 144.307 26.9632 142.141 30.9632C131.741 46.5632 124.807 56.4632 122.641 59.4632C121.313 61.1528 119.345 62.6725 117.103 64.003C107.604 69.6384 96.1668 71.4495 85.1376 70.8597C80.9964 70.6383 76.9656 70.2771 74.1407 69.9632C66.4759 68.1383 62.3914 67.0072 60.9754 66.5699C60.7509 66.5006 60.5353 66.4105 60.3252 66.3055C58.1889 65.2373 57.1162 62.799 57.7724 60.5023L58.2271 58.9109C58.4997 57.9568 58.9628 57.0638 59.6491 56.3473C64.4151 51.3719 71.6347 47.6541 77.5258 45.3279C82.1727 43.4931 86.9389 41.9498 91.6612 40.3188C100.05 37.4214 109.258 34.9945 113.641 33.9632L119.115 33.2789C123.445 32.7378 127.828 32.7998 132.141 33.4632L136.227 34.689C136.81 34.864 137.295 35.2721 137.568 35.8168C137.922 36.5257 137.874 37.3739 137.408 38.0146C132.221 45.1331 124.066 50.0612 117.602 52.924C113.11 54.9139 108.532 56.8589 103.948 58.6277C95.1084 62.0383 81.4406 65.7012 74.1407 67.4632C73.0197 67.7056 72.0083 67.9189 71.0981 68.1056C63.9991 69.5614 68.8629 61.1946 75.4202 58.1098C77.0886 57.3249 78.0885 57.4763 79.877 57.0283C83.3444 56.1596 88.509 54.114 93.2933 52.0321C99.2387 49.445 104.728 45.9304 110.475 42.9281C113.717 41.2342 116.697 39.983 119.313 39.0768C125.663 36.8771 134.37 36.4402 136.837 42.6903C138.574 47.089 137.455 52.9236 136.141 56.4632C128.941 73.2632 119.807 88.4632 116.141 93.9632C105.741 109.563 107.141 126.797 109.141 133.463C111.541 147.463 133.141 156.963 143.641 159.963C153.471 163.24 162.617 169.123 168.436 173.566C171.671 176.035 174.727 178.761 177.397 181.833C179.617 184.386 182.3 187.668 184.757 190.745C187.996 194.802 190.286 200.632 194.36 203.849C197.297 206.167 200.609 206.356 204.23 207.293C209.164 208.569 211.933 211.042 213.367 213.58C215.369 217.124 214.47 222.973 210.42 223.375C208.807 223.536 207.091 222.925 205.756 222.178C204.987 221.747 204.201 221.32 203.513 220.769C201.498 219.156 200.937 216.293 201.048 213.406C201.192 209.656 205.297 207.493 202.141 205.463C199.167 203.552 192.302 201.649 185.169 200.086C173.938 197.624 162.543 194.939 153.38 187.993C146.405 182.705 139.669 176.367 134.402 170.928C129.41 165.772 124.042 160.823 120.212 154.753C113.613 144.293 110.811 130.323 110.381 119.978C110.148 114.381 108.299 106.688 103.498 109.573C102.038 110.451 101.097 111.626 100.066 112.981C98.1112 115.551 96.4751 117.953 95.1201 120.133C90.6861 127.267 88.0501 135.413 83.693 142.594C78.047 151.899 71.7835 159.579 68.6407 162.963C66.269 166.065 62.0736 169.908 57.6106 173.583C48.353 181.205 37.8012 190.262 26.1407 187.463C20.5407 186.263 18.8074 191.963 18.6407 194.963C18.6407 197.506 18.1418 201.03 17.6726 203.703C17.3492 205.545 16.7969 207.942 14.9281 207.879C14.0759 207.85 13.0971 207.479 12.1127 206.933C8.88423 205.143 5.69547 202.708 4.78793 199.13C4.14241 196.585 4.47053 193.204 6.93027 192.285C7.33433 192.134 7.75847 192.026 8.19183 191.953C11.7484 191.355 14.9379 192.016 17.82 189.848C20.7504 187.643 23.2544 184.099 23.8791 180.486C24.2617 178.272 24.5378 176.013 24.7322 173.911C25.2165 168.673 25.9681 163.347 28.6749 158.838C30.6559 155.538 32.8217 152.801 34.8652 150.63C38.9056 146.336 43.8166 142.898 48.8283 139.792C59.126 133.411 71.6439 129.062 77.6407 127.463C96.6407 121.963 97.1407 126.963 98.6407 132.963C99.2872 135.549 100.35 150.828 101.375 168.074C102.997 195.364 112.341 221.7 128.179 243.983C163.887 294.222 201.153 344.124 303.641 404.963C566.641 528.963 763.641 362.963 959.141 456.463C980.974 466.463 1029.94 499.263 1051.14 550.463C1059.47 565.63 1071.14 595.563 1051.14 593.963C1031.14 592.363 1024.14 569.963 1023.14 558.963C1022.31 547.297 1029.14 521.063 1063.14 509.463C1081.46 503.212 1091.61 510.232 1096.85 520.93C1105.38 538.3 1093.38 557.548 1078.69 570.139C1075.33 573.016 1071.71 575.566 1067.93 577.845C1047.47 590.156 1011.48 613.807 995.141 631.963C988.226 639.019 974.668 656.853 968.003 678.423C965.57 686.295 964.15 694.549 964.436 702.783C964.558 706.297 964.857 710.607 965.42 715.803C966.118 722.249 966.853 728.807 965.093 735.047C963.838 739.498 961.68 744.675 958.141 749.463C951.974 758.463 934.541 771.963 914.141 753.963C907.474 747.963 890.841 730.263 881.641 707.463C880.442 703.102 880.084 695.332 883.115 689.024C886.461 682.06 894.594 678.989 899.9 673.373C903.505 669.557 906.785 664.958 907.641 660.463C908.808 655.963 910.141 645.563 906.141 639.963C904.474 636.963 901.841 630.163 904.641 626.963C905.039 626.446 905.607 625.838 906.311 625.247C911.703 620.718 919.721 624.239 925.607 628.102C928.747 630.163 932.13 632.921 935.141 636.463C939.474 641.797 948.241 656.063 948.641 670.463C948.771 678.53 948.15 695.818 945.207 712.149C943.595 721.095 941.426 730.014 938.312 738.554C933.974 750.452 927.481 765.284 927.141 765.963C926.641 766.963 935.452 761.166 939.141 756.463C941.622 753.3 943.141 749.297 944.141 747.463C944.141 747.463 947.756 740.607 948.141 734.963C948.315 732.413 948.457 730.338 948.573 728.661C948.73 726.388 946.861 732.802 946.141 734.963C945.141 737.963 942.141 746.963 939.141 751.963C937.539 754.633 935.224 757.874 933.414 760.314C932.829 761.104 934.403 763.01 934.641 763.963C935.141 765.963 937.641 768.463 933.641 771.963C931.908 773.479 930.551 775.465 928.552 777.675C921.236 785.769 910.063 790.018 904.509 799.409C902.472 802.852 900.945 806.638 900.672 810.418C900.645 810.78 900.641 810.89 900.584 811.249C900.214 813.609 902.855 815.331 904.956 814.195C905.849 813.712 906.746 813.071 907.51 812.239C907.96 811.75 908.389 811.241 908.865 810.776C911.057 808.631 914.713 804.532 916.141 800.963C917.242 798.982 918.696 796.106 920.134 792.825C925.918 779.639 923.134 765.07 917.614 751.771C911.394 736.786 903.41 718.919 896.641 707.463C892.568 699.45 883.174 683.069 872.717 670.026C867.368 663.355 862.097 656.244 854.887 651.647C851.397 649.421 847.328 647.917 843.141 648.463C841.835 648.463 839.757 648.761 837.583 649.63C831.872 651.913 827.59 659.123 830.641 664.463C832.308 667.13 835.841 673.263 836.641 676.463C837.474 680.63 839.041 690.163 838.641 694.963C838.431 699.475 838.248 707.423 838.54 714.189C838.822 720.729 839.673 727.272 840.046 733.807C840.051 733.899 840.056 733.99 840.062 734.081C840.561 742.688 841.572 751.862 845.424 759.575C847.327 763.384 850.633 766.085 854.406 768.058C857.328 769.586 861.284 771.119 866.141 771.963C871.808 773.13 884.841 775.563 891.641 775.963C893.474 776.297 897.541 776.663 899.141 775.463C900.308 774.797 900.341 772.763 891.141 769.963C885.983 767.738 876.923 764.016 868.719 761.076C859.831 757.89 850.825 754.551 841.478 753.212C838.95 752.85 836.416 752.711 834.141 752.963C832.85 753.235 830.9 753.983 828.827 755.37C821.302 760.402 817.959 769.74 814.589 778.142C814.185 779.151 813.794 780.183 813.427 781.23C810.11 790.668 808.843 798.53 810.488 808.398C811.951 817.176 819.126 827.781 827.873 829.419C829.421 829.708 831.149 829.914 833.071 830.007C842.454 830.46 851.571 827.286 860.136 823.427C868.647 819.593 878.729 814.657 886.141 809.963C892.077 805.659 903.467 796.656 912.2 787.733C917.744 782.069 927.563 778.275 925.641 785.963C924.773 793.28 921.155 807.812 913.099 820.044C907.541 828.482 899.937 835.455 894.838 844.178C892.372 848.397 889.71 853.327 887.075 858.811C877.003 879.769 877.057 906.226 861.9 923.859C854.39 932.595 843.004 942.241 826.141 951.963C783.867 971.339 651.22 1026.22 584.474 1088.32C579.13 1093.3 574.621 1099.06 569.377 1104.14C558.36 1114.81 537.111 1130.32 504.641 1141.96C492.295 1145.62 460.464 1151.54 425.132 1148.55C418.466 1147.98 411.933 1146.44 405.354 1145.23C394.176 1143.17 378.337 1141.72 365.641 1144.96C352.651 1149.58 356.797 1168.96 367.911 1160.8C372.057 1157.76 377.233 1153.72 383.641 1148.46C394.307 1141.3 419.141 1113.96 431.641 1060.96C434.028 1046.11 435.972 1017.28 429.209 999.274C426.061 990.891 420.333 982.845 412.181 979.138C405.878 976.273 396.62 976.19 382.641 984.463C375.312 989.233 362.04 1000.5 352.379 1015.71C343.951 1028.98 344.014 1045.2 340.141 1029.96C339.307 1026.63 337.141 1019.06 335.141 1015.46C332.283 1008.84 324.952 996.446 314.851 989.405C309.239 985.493 302.499 983.249 295.692 982.571C287.119 981.717 275.391 983.16 264.141 991.463C259.648 994.86 252.201 1002.26 247.627 1011.6C242.803 1021.44 242.069 1033.01 243.525 1043.88C244.949 1054.5 249.084 1068.91 258.641 1085.46C262.807 1095.46 279.741 1120.06 314.141 1138.46C317.807 1140.3 331.141 1146.96 339.141 1142.96C346.515 1139.28 337.227 1134.91 329.036 1133.97C321.048 1133.05 310.298 1133.52 298.141 1137.96C287.974 1141.3 263.741 1150.86 248.141 1162.46C227.641 1176.46 181.841 1208.76 162.641 1225.96M270.641 12.5777L288.005 18.6446C292.166 20.0985 295.361 23.484 296.572 27.7222L296.802 28.529C297.946 32.5307 296.943 36.8392 294.151 39.9254C291.082 43.318 286.356 44.68 281.952 43.4413L280.07 42.912C275.684 41.6785 272.082 38.5431 270.256 34.3688L269.346 32.2907C267.289 27.5868 267.119 22.2717 268.872 17.446L270.641 12.5777ZM270.641 12.5777L279.141 1.46324"
    stroke="#00945A"
    strokeWidth="4"
    strokeLinecap="round"
    
  />

  {/* MOVING DOT */}
  <circle ref={dotRef} r="7" fill="white" />
</svg>




          {STEPS.map((step, i) => (
            <DesktopStep
               key={i}
        x={step.x}
        y={step.y}
        value={step.value}
        suffix={step.suffix}
        title={step.title}
        text={step.text}
        index={i}
        active={activeIndex === i}
            />
          ))}
        </div>
      )}

      {/* =========================
         MOBILE VIEW
      ========================= */}
     {isMobile && (
<div className="relative mx-auto  py-10 min-h-[1200px]">

    {/* CURVED PATH */}
    

    
<svg
  viewBox="0 0 613 2476"
  className="absolute left-1/2 top-0 h-full w-full max-w-[320px] -translate-x-1/2"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>

<g filter="url(#filter0_d_47_40)">
<path d="M320.061 0.5V27.413C320.061 78.1477 291.743 124.948 242.725 138.032C219.159 144.323 190.881 150.115 158.846 153.456C96.455 159.964 104.776 207.599 124.202 244.858C131.64 259.123 154.539 255.941 168.395 264.115C173.884 267.221 178.968 273.05 182.885 278.653C187.772 285.644 195.31 297.029 203.295 294.032C209.05 291.872 211.671 280.309 206.745 283.987C205.672 284.788 204.472 286.035 203.503 287.186C199.908 292.655 204.065 293.168 206.593 292.74C217.602 289.664 226.534 293.168 229.623 295.304C240.122 303.578 247.434 310.164 252.171 314.848C256.88 319.505 261.14 324.618 265.335 329.742C278.18 345.431 294.875 369.785 302.648 381.609L278.494 351.701C271.01 341.944 261.856 333.333 255.958 328.339C253.433 326.201 249.348 324.901 249.565 328.202C250.239 338.798 253.403 357.398 254.901 365.373C262.091 391.692 277.557 408.526 284.392 413.653C293.829 421.856 312.853 439.288 321.185 446.978C338.486 461.334 357.978 489.276 359.101 498.249C353.765 473.468 350.207 448.688 350.114 437.579C349.099 418.094 346.784 403.591 344.472 393.731C342.125 383.723 338.794 373.822 334.239 364.606C333.055 362.211 331.813 359.987 330.571 357.957C325.209 349.192 318.729 340.707 310.184 335C301.036 328.89 290.206 325.989 284.392 325.212C272.462 324.636 265.146 321.996 261.908 320.157C260.941 319.608 259.42 318.676 258.629 317.894C256.761 316.044 257.803 313.727 259.291 311.56C261.284 308.655 263.293 306.399 265.187 304.667C270.327 299.966 277.35 297.194 284.258 296.3C290.745 295.46 296.808 296.738 299.839 297.867C305.027 299.208 309.8 301.57 313.813 304.127C321.84 309.242 331.232 317.52 340.451 319.887C348.123 321.856 355.317 321.351 358.271 314.002C359.206 311.673 359.461 309.308 359.382 307.694C359.284 305.164 358.65 304.108 357.842 303.864C355.417 303.13 353.566 307.867 353.541 310.401C353.47 317.534 361.82 318.408 368.14 315.099C370.113 314.067 371.96 312.982 373.547 311.983C376.135 310.353 378.766 308.745 381.687 307.836C395.267 303.611 405.447 306.952 409.095 309.403L428.194 320.085C435.63 324.404 441.634 331.594 450.373 339.844C474.566 362.684 504.129 385.146 536.029 394.599C550.011 398.742 564.295 401.141 573.962 402.117C593.51 404.851 604.576 426.898 607.665 437.579C611.176 447.417 601.885 453.691 594.1 456.639C591.09 457.78 587.976 457.634 585.153 456.088C581.765 454.233 578.668 450.914 579.361 447.115C579.481 446.459 579.649 445.827 579.85 445.226C580.964 441.895 584.005 439.209 587.517 439.269C591.04 439.33 592.928 441.917 593.838 445.086C595.293 450.156 595.191 455.635 594.719 460.888C592.073 490.351 549.14 506.478 526.215 511.066C481.951 525.422 463.395 560.058 459.65 575.581C455.381 599.849 466.485 621.297 472.57 628.988C481.108 641.293 495.975 650.635 502.342 653.769C514.7 660.263 523.406 667.298 526.215 670.004C539.247 681.625 557.297 689.088 564.693 691.367C568.911 692.688 572.432 693.807 575.35 694.75C586.828 698.461 575.366 699.44 563.57 696.921C559.451 695.55 552.738 692.338 546.506 689.148C538.545 685.073 531.258 679.839 524.216 674.325C516.226 668.069 508.749 662.77 502.637 658.69C494.381 653.179 485.248 648.719 478.291 641.638C478.051 641.394 477.829 641.164 477.626 640.951C468.908 632.719 465.777 647.103 466.802 659.049C466.85 659.613 466.901 660.134 466.953 660.605C469.649 679.062 480.622 696.779 485.771 703.33C494.983 717.685 513.576 720.42 521.721 719.993C530.222 718.582 522.86 714.013 516.709 707.978C513.048 704.386 509.932 700.55 508.24 698.203C505.741 694.401 503.927 691.123 502.645 688.313C498.443 679.105 508.194 669.877 511.61 679.404C512.847 683.305 514.049 686.692 515.197 689.622C519.876 701.568 530.06 715.308 542.293 719.174C546.43 720.481 548.362 720.732 552.629 719.948C560.981 718.413 570.53 712.145 575.085 708.457C591.038 696.494 590.345 693.503 588.005 693.503C583.062 693.503 576.583 687.521 573.962 684.531C567.895 677.353 560.574 654.196 557.672 643.514C553.8 627.965 546.058 613.823 539.597 604.25C534.984 597.414 529.191 590.633 521.146 588.816C512.736 586.916 506.575 591.116 504.027 594.38C500.84 597.55 498.678 603.493 497.296 609.349C495.313 617.744 496.685 634.207 488.392 631.834C486.478 631.286 484.802 628.733 483.805 626.424C480.884 620.614 486.707 605.204 489.984 598.226C494.702 587.288 501.312 583.984 504.027 583.699C505.826 583.442 507.418 583.205 508.823 582.987C517.089 581.706 511.113 575.973 504.606 570.717C503.408 569.75 502.49 569.234 501.062 568.661C488.095 563.453 479.538 569.817 476.783 573.872C473.132 578.145 468.357 578.145 466.672 610.616C465.324 636.593 465.549 653.769 425.666 654.623C385.783 655.478 298.154 631.124 236.083 655.478C174.012 679.831 158.565 711.96 152.948 725.974C150.914 731.048 150.341 734.968 150.601 737.946C151.147 744.179 158.443 742.283 161.515 736.832C162.531 735.028 163.146 733.024 163.223 730.955C163.544 722.345 163.015 709.363 158.846 708.457C154.127 707.431 154.258 715.72 154.914 719.993C156.131 724.835 155.7 738.45 144.241 754.173C129.917 773.826 118.963 786.217 96.2133 808.007C91.238 811.902 80.8646 821.556 71.8503 834.073C66.7254 841.189 61.9649 848.602 56.0796 855.103C53.7567 857.669 51.3654 860.228 49.3091 862.268L43.9727 868.249C41.6322 870.955 41.3326 866.284 58.8585 825.951C63.914 815.127 77.0584 789.293 89.1917 772.545C93.7792 765.424 105.931 748.533 117.84 737.937C123.551 732.098 136.826 722.385 144.241 730.247C147.892 734.662 154.127 747.166 149.858 761.863C148.547 769.981 140.309 792.625 117.84 818.261C111.286 826.378 94.5843 845.177 80.2041 855.432C77.4891 857.71 69.419 863.806 58.8585 869.958C52.5257 873.041 43.5238 871.098 48.6266 866.244C48.8793 866.003 49.1443 865.754 49.4221 865.495C50.815 864.197 52.4684 863.202 54.2478 862.526L54.3218 862.497C55.4695 862.061 56.4742 861.709 57.6943 861.847C59.9855 862.107 61.9478 864.205 63.0146 866.25C63.7559 867.67 64.3212 869.571 64.3 871.935C64.2732 874.921 62.8946 877.68 61.5667 880.354C58.7443 886.039 55.1751 894.178 54.6455 899.011C51.5072 911.628 58.3345 934.071 69.6839 927.728C72.2356 926.302 75.0156 923.352 77.9572 918.238C97.1495 885.197 88.3491 978.48 216.423 971.217C344.497 963.954 361.629 977.198 409.095 981.471C456.561 985.743 487.737 1020.35 494.197 1029.32C497.743 1034.25 502.137 1041.24 505.378 1046.54C508.013 1050.84 513.349 1052.48 518.07 1050.69C519.193 1050.26 521.721 1048.55 520.879 1042.57C520.036 1036.59 514.138 1034.45 509.925 1038.3C508.259 1039.82 504.077 1044.52 499.772 1050.03C489.866 1062.71 479.516 1082.03 479.494 1098.12C479.49 1100.78 479.446 1102 479.352 1104.66C478.793 1120.48 481.805 1146.46 483.524 1158.35C484.391 1163.14 485.075 1166.12 485.583 1167.91C486.061 1169.6 487.099 1169.43 487.538 1167.73C487.693 1167.13 487.746 1166.58 487.769 1165.96C487.812 1164.76 487.866 1163.63 487.928 1162.56C488.519 1152.35 493.091 1142.03 494.013 1131.85C494.105 1130.82 494.17 1129.86 494.213 1128.96C494.377 1125.49 494.509 1122.01 494.41 1118.54C494.075 1106.81 488.399 1097.14 485.209 1093.41C483.805 1091.27 482.149 1089.59 480.364 1088.27C469.865 1080.52 453.457 1083.13 444.279 1092.41C442.392 1094.32 440.923 1096.22 439.99 1097.68C437.855 1102.15 436.279 1105.63 435.148 1108.3C432.506 1114.56 442.062 1114.34 446.254 1109C446.627 1108.52 446.937 1108.14 447.394 1107.75C450.254 1105.27 455.155 1103.17 457.404 1102.38C463.695 1100.33 469.574 1097.26 471.728 1095.97C471.799 1095.94 471.869 1095.91 471.938 1095.88C477.449 1093.5 476.447 1101.94 474.315 1107.56C473.512 1109.67 472.464 1111.43 471.274 1113.35C470.983 1113.82 470.708 1114.28 470.448 1114.72C466.591 1121.31 465.407 1129.36 461.88 1136.13C460.063 1139.62 458.366 1142.17 457.404 1143.4C456.486 1144.94 454.934 1146.47 453.139 1147.89C446.855 1152.87 438.727 1154.51 431.002 1156.64C427.783 1157.66 425.462 1158.39 423.823 1158.9C421.114 1159.74 421.495 1157.85 422.857 1155.36C426.228 1148.18 430.815 1141.55 432.688 1139.13C434.377 1136.7 436.974 1134.88 439.726 1133.56C446.142 1130.48 454.336 1128.66 460.417 1132.36C463.331 1134.13 466.265 1135.98 467.86 1138.99C470.956 1144.84 470.907 1155.05 470.323 1160.49C469.874 1171.77 465.829 1187.98 463.863 1194.67C462.74 1202.19 460.212 1207.77 459.089 1209.62C457.965 1211.33 456.748 1205.78 456.28 1202.79C455.606 1199.03 456.935 1188.4 457.684 1183.56C457.909 1177.41 460.212 1168.18 461.336 1164.33C463.358 1159.55 463.863 1150.95 463.863 1147.24C463.266 1135.88 455.532 1145.81 450.806 1156.16C449.822 1158.32 448.995 1160.29 448.416 1161.77C444.596 1169.29 441.207 1181.99 439.99 1187.41C438.193 1192.88 436.994 1203.07 436.62 1207.49C435.946 1212.61 435.59 1219.59 435.496 1222.44C434.597 1232.7 435.496 1233.26 436.058 1232.27C437.497 1230.08 438.392 1227.58 439.259 1225.11C439.61 1224.1 440.003 1223 440.397 1221.91C441.606 1218.56 443.186 1215.35 444.483 1212.04C445.701 1208.92 446.763 1205.52 447.292 1203.64C448.641 1199.88 447.854 1196.09 447.292 1194.67C446.416 1192.12 445.89 1189.93 445.598 1188.11C444.934 1183.97 446.292 1179.75 445.914 1175.57C445.82 1174.54 445.652 1173.65 445.447 1172.92C444.929 1171.05 443.487 1169.65 441.555 1169.57C438.125 1169.43 434.498 1170.37 431.537 1172.11C428.592 1173.84 425.443 1176.42 423.7 1178.01C418.981 1181.77 414.244 1186.69 412.465 1188.69C411.447 1189.89 410.672 1190.9 410.099 1191.73C407.835 1195.03 414.017 1196.35 417.431 1194.27C418.127 1193.85 418.433 1193.6 419.093 1193.12C419.605 1192.75 420.208 1192.3 420.82 1191.82C422.755 1190.33 424.481 1188.58 426.356 1187.01C427.947 1185.68 429.675 1184.48 431.225 1183.51C433.629 1182.01 437.743 1180.73 437.743 1183.56C437.743 1186.98 433.811 1193.82 431.845 1196.81C430.047 1199.88 427.538 1210.34 426.509 1215.18C426.086 1217.11 424.905 1220.03 423.783 1222.54C422.658 1225.06 421.595 1227.55 420.114 1229.88C418.348 1232.65 416.066 1235.15 414.081 1237.77C413.449 1238.6 412.867 1239.4 412.465 1239.96C411.954 1240.85 411.483 1241.66 411.05 1242.4C407.035 1249.18 407.18 1239.49 409.095 1231.84C410.443 1225.69 413.963 1215.32 415.555 1210.91C416.405 1208.4 417.299 1206.35 418.195 1204.68C421.585 1198.39 430.897 1199.53 431.537 1206.65C431.55 1206.79 431.559 1206.93 431.564 1207.06C431.423 1216.27 430.318 1225.75 429.19 1232.97C428.148 1239.65 426.348 1246.44 427.69 1253.07C428.946 1259.27 432.362 1260.4 435.777 1261.32C436.567 1261.53 437.631 1261.37 438.896 1260.93C450.894 1256.7 465.166 1261.06 466.078 1273.75L466.314 1277.03C467.008 1286.69 457.497 1293.83 448.419 1290.48C442.272 1288.2 438.692 1281.8 439.981 1275.37L441.541 1267.59C442.363 1263.49 444.107 1259.17 448.031 1257.72C449.239 1257.28 450.538 1257.1 451.786 1257.48C458.509 1259.52 454.421 1269.52 448.781 1273.71C448.23 1274.12 447.641 1274.55 447.012 1274.99C438.586 1280.97 431.845 1286.53 406.006 1280.55C380.166 1274.57 373.145 1266.45 273.157 1310.46C198.514 1343.31 171.644 1383.43 162.819 1401.65C159.74 1408.01 157.304 1414.69 154.131 1421.01M154.131 1421.01L144.3 1415.78C135.853 1411.97 127.689 1410.65 120.535 1410.69C105.25 1410.77 87.3757 1417.91 85.6284 1433.1C85.1118 1437.59 85.3699 1442.05 85.8808 1445.26C87.903 1456.2 93.6514 1467.76 96.2728 1472.18C100.092 1480.38 105.354 1488.41 107.507 1491.41L112.976 1498.97C113.448 1499.62 113.997 1500.21 114.613 1500.73L117.301 1503C118.199 1503.76 119.422 1504.02 120.547 1503.67C121.201 1503.47 121.807 1503.08 121.968 1502.42C122.464 1500.37 121.942 1496.42 121.55 1494.4C120.876 1484.83 113.405 1472.18 109.754 1467.05L102.171 1454.66L92.1736 1437.85C91.7255 1437.1 91.1733 1436.41 90.5334 1435.81L88.2533 1433.68C87.9921 1433.43 87.6478 1433.3 87.2901 1433.3C86.5118 1433.3 85.8808 1433.93 85.8808 1434.71V1437C85.8808 1437.38 85.9364 1437.75 86.0564 1438.11C88.8934 1446.58 96.2516 1457.46 99.6431 1461.92C105.26 1469.79 112.844 1479.16 115.933 1482.86C123.723 1490.85 120.935 1474.7 116.887 1464.3C116.128 1462.35 115.392 1460.63 114.81 1459.36C109.642 1443.64 98.426 1434.3 93.4641 1431.59C87.1728 1427.49 83.1658 1433.3 81.9487 1436.72C76.1068 1450.05 72.2121 1458.51 70.995 1461.07C70.2353 1462.54 69.1022 1463.86 67.8129 1465.01C62.8577 1469.44 55.9455 1471.35 49.3271 1470.76C48.8025 1470.71 48.2838 1470.66 47.7782 1470.6C45.0891 1470.3 42.4637 1469.6 39.9401 1468.62C38.1753 1467.94 37.0627 1467.47 36.4934 1467.21C36.2746 1467.11 36.0716 1466.98 35.8801 1466.83C34.6793 1465.92 34.0969 1464.41 34.3754 1462.92L34.8094 1460.61C34.9651 1459.78 35.2444 1458.98 35.6992 1458.27C37.7752 1455.03 40.6481 1452.42 43.3597 1450.49C47.2783 1447.71 51.6618 1445.6 55.9852 1443.5C59.0297 1442.03 62.0452 1440.77 64.2114 1439.93C65.3577 1439.48 66.5461 1439.17 67.7537 1438.94L70.1726 1438.48C71.826 1438.16 73.5269 1438.2 75.1656 1438.58L75.7749 1438.72C76.145 1438.81 76.5056 1438.93 76.8514 1439.09L78.2666 1439.74C78.8234 1439.99 79.2488 1440.47 79.4399 1441.05C79.6085 1441.56 79.5848 1442.12 79.3539 1442.61C77.1249 1447.32 73.8917 1450.92 70.8568 1453.46C66.8799 1456.78 62.2887 1459.53 57.6784 1461.89C52.9568 1464.31 47.1357 1466.66 43.7513 1467.91C43.3766 1468.03 43.0238 1468.14 42.6917 1468.25C38.1723 1469.69 40.3624 1463.39 43.9694 1460.31C45.4275 1459.06 46.4497 1459.29 48.1786 1458.46C50.2763 1457.46 53.0001 1455.75 55.4264 1454.11C58.1631 1452.26 60.5682 1449.97 63.0835 1447.83C63.872 1447.16 64.6366 1446.55 65.3728 1446.02C70.8976 1441.98 79.1221 1443.26 79.4438 1450.1C79.5862 1453.12 79.111 1456.33 78.5784 1458.51C74.5339 1472.86 69.4035 1485.85 67.3438 1490.55C61.5019 1503.88 62.2883 1518.61 63.4117 1524.3C64.7599 1536.27 76.8932 1544.38 82.7913 1546.95C87.7597 1549.47 92.417 1553.79 95.6818 1557.4C98.2829 1560.27 100.543 1563.45 102.432 1566.84C103.813 1569.31 105.401 1572.31 106.762 1574.93C108.009 1577.33 108.817 1580.77 110.265 1583.05C112.28 1586.24 116.033 1586.31 119.01 1588.63C122.223 1591.12 122.873 1595.36 122.674 1597.79C121.702 1602.23 119.259 1601.44 117.709 1600.13C117.247 1599.74 116.778 1599.35 116.399 1598.88C115.08 1597.24 114.889 1594.12 115.109 1591.25C115.274 1589.11 117.191 1587.33 115.652 1585.83C105.916 1576.31 90.517 1574.66 82.5467 1563.62C81.955 1562.8 81.3763 1561.98 80.8136 1561.16C75.6204 1553.64 69.9852 1546.1 67.2826 1537.36C64.7929 1529.32 64.0105 1520.06 63.9885 1512.84C63.9736 1507.97 62.0201 1501.12 59.1988 1505.08C54.705 1513.62 52.8325 1520.32 52.4581 1522.59C48.863 1534.56 43.0959 1545.52 40.6618 1549.51C39.1618 1552.5 36.363 1556.28 33.5132 1559.76C28.9626 1565.32 23.5359 1572.91 16.7884 1570.45C13.6427 1569.42 12.6691 1574.29 12.5755 1576.86C12.5755 1579.43 12.1823 1583.18 11.8893 1585.5C11.7902 1586.29 11.77 1587.21 11.1413 1587.7C10.9186 1587.87 10.6621 1587.92 10.3843 1587.88C6.81756 1587.4 5.00418 1582.59 4.5996 1579.01C4.58262 1578.86 4.56692 1578.71 4.55246 1578.57C4.44059 1577.43 4.45468 1576.21 5.15073 1575.31C5.17867 1575.27 5.20705 1575.24 5.23586 1575.2C7.25719 1572.81 11.0428 1573.8 13.0438 1571.39C14.1459 1570.06 15.0084 1568.29 15.2514 1566.58C15.6459 1563.81 15.8923 1560.8 16.0388 1558.15C16.2615 1554.12 16.636 1550.05 18.093 1546.29C18.8155 1544.42 19.585 1542.76 20.3533 1541.31C23.1102 1536.09 27.1598 1531.58 31.6901 1527.8C36.9737 1523.39 42.7585 1520.38 45.7173 1519.18C56.3901 1514.48 56.671 1518.75 57.5136 1523.88C57.9271 1526.39 58.6437 1542.97 59.2871 1560.08C60.0204 1579.58 64.7602 1598.73 73.2476 1616.3C80.3806 1631.06 88.1361 1647.04 95.968 1662.27C121.244 1711.43 179.996 1754.9 234.928 1761.01C328.641 1771.44 438.028 1734.68 520.879 1794.96C533.143 1803.5 560.649 1831.53 572.557 1875.28C577.239 1888.24 583.792 1913.82 572.557 1912.45C561.323 1911.09 557.391 1891.95 556.829 1882.55C556.361 1872.58 560.199 1850.16 579.298 1840.25C591.576 1833.88 597.315 1843.64 599.649 1855.63C602.105 1868.24 596.734 1880.75 588.915 1890.94C586.442 1894.17 583.651 1897.13 580.669 1899.89C569.005 1910.7 549.939 1929.99 541.101 1944.92C536.513 1952.05 526.721 1972.01 524.249 1994.91C523.781 1996.91 523.294 2005.68 525.092 2024.82C525.092 2028.38 524.137 2037.47 520.317 2045.33C516.853 2053.02 507.06 2064.56 495.601 2049.17C491.856 2044.05 483.074 2028.92 477.907 2009.44C477.431 2006.81 477.071 2002.72 477.442 1998.65C478.247 1989.8 486.449 1983.84 490.051 1975.72C490.976 1973.63 491.679 1971.44 491.95 1969.28C492.605 1965.43 493.354 1956.55 491.107 1951.76C490.171 1949.2 488.692 1943.39 490.265 1940.65C492.715 1935.81 499.433 1938.69 503.076 1942.71C504.531 1944.32 506.032 1946.33 507.397 1948.77C509.831 1953.33 514.756 1965.52 514.98 1977.82C515.074 1986.65 514.475 2008.41 511.329 2024.82C510.955 2031.51 503.184 2058.57 502.903 2059.43C502.623 2060.28 507.572 2055.33 509.644 2051.31C511.038 2048.61 511.891 2045.19 512.453 2043.62C512.453 2043.62 514.483 2037.76 514.7 2032.94C514.8 2030.69 514.882 2028.88 514.948 2027.42C515.01 2026.07 513.865 2031.62 513.576 2032.94C513.014 2035.5 511.329 2043.19 509.644 2047.46C508.664 2049.95 507.209 2053.01 506.163 2055.14C505.894 2055.69 507.018 2057.12 507.116 2057.72C507.397 2059.43 508.801 2061.56 506.555 2064.56C499.906 2073.4 491.517 2081.52 488.827 2092.25C488.365 2094.1 488.067 2095.99 488.018 2097.88C487.662 2100.05 490.11 2101.34 491.448 2099.6C491.645 2099.34 491.833 2099.06 492.007 2098.75C492.165 2098.46 492.327 2098.18 492.512 2097.91C493.724 2096.13 495.895 2092.49 496.724 2089.34C497.583 2086.98 498.824 2083.16 499.894 2078.98C502.307 2069.56 500.917 2059.79 498.391 2050.4C494.799 2037.04 489.885 2020.03 485.771 2009.44C483.363 2002.23 477.641 1987.1 471.399 1975.71C468.992 1971.32 466.741 1966.76 463.469 1962.97C459.513 1958.39 451.367 1958.84 448.946 1964.39C448.859 1964.59 448.776 1964.79 448.697 1965.01C448.322 1966.57 447.798 1970.3 448.697 1972.7C449.633 1974.97 451.618 1980.22 452.067 1982.95C452.535 1986.51 453.415 1994.66 453.191 1998.76C453.071 2002.66 452.967 2009.56 453.139 2015.38C453.3 2020.83 453.771 2026.28 453.971 2031.73C453.999 2032.48 454.029 2033.23 454.062 2033.97C454.332 2040.13 454.935 2046.71 456.599 2052.64C457.756 2056.77 460.168 2060.2 463.806 2062.46C465.168 2063.3 466.787 2064.07 468.638 2064.56C470.831 2065.24 474.988 2066.44 478.611 2067.23C481.481 2067.86 485.238 2069.76 487.175 2067.55C490.821 2064.38 480.673 2061.49 476.541 2058.98C474.44 2057.71 472.173 2056.39 470.014 2055.21C465.161 2052.57 460.408 2049.84 455.026 2048.59C452.319 2047.96 449.19 2048.69 447.323 2050.75C446.802 2051.33 446.274 2052.01 445.765 2052.81C443.212 2056.85 442.113 2061.63 440.718 2066.19C440.03 2068.44 439.349 2070.95 438.788 2073.54C437.149 2081.1 436.488 2088.98 437.492 2096.65C437.668 2097.99 437.909 2099.37 438.233 2100.76C439.412 2105.84 439.584 2109.08 443.834 2112.1C450.248 2116.65 461.445 2111.29 467.852 2106.72C471.989 2103.78 476.44 2100.33 479.873 2097.03C483.222 2093.33 489.662 2085.59 494.576 2077.93C497.709 2073.05 503.002 2070.79 502.061 2076.52C501.608 2082.33 499.821 2093.46 495.941 2103.39C492.623 2111.88 487.283 2119.48 484.093 2128.02C482.353 2132.68 480.476 2138.22 478.695 2144.4C474.423 2159.23 475.234 2175.64 468.7 2189.61C464.665 2198.25 457.694 2208.26 446.169 2218.37C421.453 2235.6 341.744 2285.7 306.018 2341.41C302.46 2349.11 289.391 2367.73 265.574 2380.72C259.681 2383.38 245.885 2387.43 229.694 2387.02C220.058 2386.77 210.882 2382.86 201.294 2381.87C196.69 2381.4 191.774 2381.62 187.494 2383.29C178.036 2388.4 181.813 2404.62 188.969 2396.6C191.264 2394.02 194.108 2390.64 197.605 2386.28C203.597 2380.15 232.24 2346.12 239.43 2301C240.701 2288.97 237.102 2272.96 231.689 2260.84C228.473 2253.64 223.31 2247.16 215.8 2244.74C203.552 2240.8 183.892 2239.73 176.93 2254C166.93 2274.5 172.93 2274 169.074 2288.43C166.885 2296.62 169.07 2300.21 167.889 2297.57C162.193 2284.84 159.973 2274.52 151.43 2263.5C139.664 2248.32 117.43 2239.5 97.9296 2257C78.4296 2274.5 80.9296 2287.5 80.9296 2298.5C80.9296 2309.5 84.4916 2328.23 93.7106 2346.87C102.93 2365.5 126.563 2386.43 145.886 2402.15C147.946 2403.72 155.436 2409.42 159.93 2406C164.204 2402.75 158.654 2399.44 153.678 2397.42C143.042 2393.1 124.199 2387.18 115.899 2391.73C110.188 2394.58 96.5754 2402.75 87.8125 2412.66C76.2971 2424.63 50.57 2452.23 39.7849 2466.92M154.131 1421.01L161.591 1424.97C165.397 1426.99 168.075 1430.64 168.871 1434.87L169.278 1437.04C169.653 1439.04 169.287 1441.1 168.251 1442.84L167.763 1443.66C165.908 1446.78 162.031 1448.04 158.694 1446.61C156.695 1445.76 155.186 1444.05 154.585 1441.96L153.005 1436.46C152.086 1433.27 152.009 1429.89 152.781 1426.66L154.131 1421.01Z" stroke="white" stroke-linecap="round" shape-rendering="crispEdges"/>
</g>
<defs>
<filter id="filter0_d_47_40" x="0" y="0" width="612.93" height="2475.42" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
<feFlood flood-opacity="0" result="BackgroundImageFix"/>
<feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
<feOffset dy="4"/>
<feGaussianBlur stdDeviation="2"/>
<feComposite in2="hardAlpha" operator="out"/>
<feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"/>
<feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_47_40"/>
<feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_47_40" result="shape"/>
</filter>
</defs>
</svg>

    {/* STEPS */}
    <div className="relative">
      {MOBILE_STEPS.map((step, i) => (
        <MobileStep
          key={i}
          {...step}
          index={i}
          active={activeIndex === i}
          
        />
      ))}
    </div>
  </div>
)}


    </section>
  );
}

/* =========================
   DESKTOP STEP
========================= */
function DesktopStep({ x, y, value, suffix, title, text, index, active }) {
  return (
    <div
      className={` absolute max-w-xs transition-all duration-500 text-[##00945A] ${
        active ? "opacity-100" : "opacity-30"
      }`}
      style={{
        left: x,
        top: y,
        transform: "translate(-50%, -50%)",
      }}
    >
      {value !== null && (
        <div className={`text-4xl text-[#00945A] font-semibold mb-2 count-${index}`}>
          0{suffix}
        </div>
      )}
      <h3 className="md:text-6xl text-[#00945A] font-semibold">{title}</h3>
      <p className="md:text-sm text-[#00945A]/80 mt-1 leading-relaxed">
        {text}
      </p>
    </div>
  );
}


/* =========================
   MOBILE STEP
========================= */
function MobileStep({ x, y, value, suffix, title, text, index, active }) {
  return (
    <div
      className={`absolute max-w-[85%] transition-all duration-500 ${
        active ? "opacity-100" : "opacity-30"
      }`}
      style={{
        left: x,              // ✅ true left positioning
        top: y,
        transform: "translateY(-50%)", // ❌ REMOVE translateX
      }}
    >
      {value !== null && (
        <div className={`text-base font-semibold mb-2 count-${index}`}>
          0{suffix}
        </div>
      )}

      <h3 className="text-xs font-semibold">{title}</h3>

      <p className="text-[8px] text-white/70 mt-1 leading-relaxed">
        {text}
      </p>
    </div>
  );
}







